<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>PHP+MySQL+python | yui1111's blog</title><meta name="keywords" content="记录"><meta name="author" content="yui1111"><meta name="copyright" content="yui1111"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="变量命名规则  在PHP中变量名字必须以 “$” 符号开始；  名字由字母、数字和下划线 “_” 构成，但是不能以数字开头；（与C相似）   在PHP中本身呢个允许中文变量；  预定义变量定义：提前定义的变量，系统定义的变量，存储许多需要用到的数据（预定义变量都是数组） $_GET: 获取所有表单以 get 方式提交的数据 $_POST: POST 提交的数据都会保存于此 $_REQUEST: G">
<meta property="og:type" content="article">
<meta property="og:title" content="PHP+MySQL+python">
<meta property="og:url" content="https://yui1111.github.io/2021/01/25/PHP1/index.html">
<meta property="og:site_name" content="yui1111&#39;s blog">
<meta property="og:description" content="变量命名规则  在PHP中变量名字必须以 “$” 符号开始；  名字由字母、数字和下划线 “_” 构成，但是不能以数字开头；（与C相似）   在PHP中本身呢个允许中文变量；  预定义变量定义：提前定义的变量，系统定义的变量，存储许多需要用到的数据（预定义变量都是数组） $_GET: 获取所有表单以 get 方式提交的数据 $_POST: POST 提交的数据都会保存于此 $_REQUEST: G">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://yui1111.github.io/img/34.jpg">
<meta property="article:published_time" content="2021-01-25T06:14:17.723Z">
<meta property="article:modified_time" content="2021-03-13T06:53:30.135Z">
<meta property="article:author" content="yui1111">
<meta property="article:tag" content="记录">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://yui1111.github.io/img/34.jpg"><link rel="shortcut icon" href="/img/11.png"><link rel="canonical" href="https://yui1111.github.io/2021/01/25/PHP1/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-03-13 14:53:30'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    })(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/img/11.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">6</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">1</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/34.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">yui1111's blog</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">PHP+MySQL+python</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-01-25T06:14:17.723Z" title="发表于 2021-01-25 14:14:17">2021-01-25</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-03-13T06:53:30.135Z" title="更新于 2021-03-13 14:53:30">2021-03-13</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">11.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>43分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="变量命名规则"><a href="#变量命名规则" class="headerlink" title="变量命名规则"></a>变量命名规则</h1><ol>
<li> <strong>在PHP中变量名字必须以 “$” 符号开始；</strong></li>
<li> 名字由字母、数字和下划线 “_” 构成，但是不能以数字开头；（与C相似） </li>
<li> 在PHP中本身呢个允许中文变量；</li>
</ol>
<h1 id="预定义变量"><a href="#预定义变量" class="headerlink" title="预定义变量"></a>预定义变量</h1><p>定义：提前定义的变量，系统定义的变量，存储许多需要用到的数据<strong>（预定义变量都是数组）</strong></p>
<p><strong>$_GET: 获取所有表单以 get 方式提交的数据</strong></p>
<p><strong>$_POST: POST 提交的数据都会保存于此</strong></p>
<p><strong>$_REQUEST: GET 和 POST 提交的都会保存</strong></p>
<p>$GLOBALS: PHP 中所有的全局变量</p>
<p><strong>$_SERVER: 服务器信息</strong></p>
<p><strong>$_SESSION: session 会话数据</strong></p>
<p><strong>$_COOKIE: cookie 会话数据</strong></p>
<p>$_ENV: 环境信息</p>
<p>$_FILES: 用户上传的文件信息</p>
<h1 id="可变变量"><a href="#可变变量" class="headerlink" title="可变变量"></a>可变变量</h1><p>定义：如果一个变量保存的值刚好是另一个变量的名字，那么可以直接通过访问一个变量的到另一个变量的值：在变量前面多加一个$符号。</p>
<h1 id="echo"><a href="#echo" class="headerlink" title="echo"></a>echo</h1><p>使用echo输出需要连接是需加 “ . ” 才能连接。如：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$pp</span> =<span class="string">&#x27;China&#x27;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$pp</span>  <span class="string">&#x27; is good&#x27;</span><span class="string">&#x27;.&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>保存后打开浏览器提示错误。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$pp</span> =<span class="string">&#x27;China&#x27;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$pp</span> . <span class="string">&#x27; is good&#x27;</span> . <span class="string">&#x27;.&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>加入 “ . “ 后正确输出 “China is good.”这句话。</p>
<h1 id="换行"><a href="#换行" class="headerlink" title="换行"></a>换行</h1><p>PHP中换行代码如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;&lt;br&gt;&#x27;</span>;    <span class="comment">//只换行</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;&lt;hr&gt;&#x27;</span>;	<span class="comment">//换行加分隔线</span></span><br></pre></td></tr></table></figure>



<h1 id="PHP魔术变量"><a href="#PHP魔术变量" class="headerlink" title="PHP魔术变量"></a>PHP魔术变量</h1><p>PHP 向它运行的任何脚本提供了大量的预定义常量。</p>
<p>不过很多常量都是由不同的扩展库定义的，只有在加载了这些扩展库时才会出现，或者动态加载后，或者在编译时已经包括进去了。</p>
<p>有八个魔术常量它们的值随着它们在代码中的位置改变而改变。</p>
<p>具体见菜鸟教程中**<a target="_blank" rel="noopener" href="https://www.runoob.com/php/php-magic-constant.html">PHP魔术变量</a>**。</p>
<p>字符串文 0 是转换为布尔值的特殊情况，它转换为 false。</p>
<p>当使用 POST 方法时，变量不会显示在 URL 中，只有 GET 才会。</p>
<h1 id="PHP超级全局变量"><a href="#PHP超级全局变量" class="headerlink" title="PHP超级全局变量"></a>PHP超级全局变量</h1><p>PHP中预定义了几个超级全局变量（superglobals） ，这意味着它们在一个脚本的全部作用域中都可用。 你不需要特别说明，就可以在函数及类中使用。</p>
<p>PHP 超级全局变量列表:</p>
<ul>
<li>$GLOBALS</li>
<li>$_SERVER</li>
<li>$_REQUEST</li>
<li>$_POST</li>
<li>$_GET</li>
<li>$_FILES</li>
<li>$_ENV</li>
<li>$_COOKIE</li>
<li>$_SESSION</li>
</ul>
<h2 id="PHP-GLOBALS"><a href="#PHP-GLOBALS" class="headerlink" title="PHP $GLOBALS"></a>PHP $GLOBALS</h2><p>$GLOBALS 是PHP的一个超级全局变量组，在一个PHP脚本的全部作用域中都可以访问。</p>
<p>$GLOBALS 是一个包含了全部变量的全局组合数组。变量的名字就是数组的键。如：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="variable">$x</span> = <span class="number">75</span>; </span><br><span class="line"><span class="variable">$y</span> = <span class="number">25</span>;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addition</span>(<span class="params"></span>) </span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">    <span class="variable">$GLOBALS</span>[<span class="string">&#x27;z&#x27;</span>] = <span class="variable">$GLOBALS</span>[<span class="string">&#x27;x&#x27;</span>] + <span class="variable">$GLOBALS</span>[<span class="string">&#x27;y&#x27;</span>]; </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">addition(); </span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$z</span>; </span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>其余的见<a target="_blank" rel="noopener" href="https://www.runoob.com/php/php-superglobals.html"><strong>菜鸟教程</strong></a></p>
<h1 id="PHP常用系统函数"><a href="#PHP常用系统函数" class="headerlink" title="PHP常用系统函数"></a>PHP常用系统函数</h1><h3 id="有关输出的函数"><a href="#有关输出的函数" class="headerlink" title="有关输出的函数"></a>有关输出的函数</h3><p>**print()**：类似于 echo 输出提供的内容，本质是一种结构（不是函数），返回1，可以不需要使用括号。</p>
<p>**print_r()**：类似于var_dump，但是比 var_dump 简单，不会输出数据类型，只会输出值（数组打印比较多）</p>
<h2 id="有关时间的函数"><a href="#有关时间的函数" class="headerlink" title="有关时间的函数"></a>有关时间的函数</h2><p>**date()**：按照指定格式对应的时间戳（从1970年格林威治时间开始计算的秒数），如果没有指定的时间戳，那么就是默认解释当前时间戳。—— string date（string $format [, int $timestamp] ）</p>
<p>**time()**：获取当前时间对应的时间戳(返回自从Unix纪元到当前时间的秒数) —— int  time(void)</p>
<p>**microtime()**：获取微秒级别的时间 —— mixed microtime([bool $get_as_float ] )</p>
<p>**strtotime()**：按照规定格式的字符串转换成时间戳——int strtotime( string $time [, int $now] )</p>
<h2 id="有关数学的函数"><a href="#有关数学的函数" class="headerlink" title="有关数学的函数"></a>有关数学的函数</h2><ol>
<li>max()</li>
<li>min()</li>
<li>**rand()**：得到一个随机数，指定区间的随机整数—— int rand ([int $min ] , int $max )</li>
</ol>
<p>列如：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    <span class="keyword">echo</span> rand() . <span class="string">&quot;\n&quot;</span>;    <span class="comment">//7771</span></span><br><span class="line">	<span class="keyword">echo</span> rand() . <span class="string">&quot;\n&quot;</span>;	   <span class="comment">//22264</span></span><br><span class="line">	<span class="keyword">echo</span> rand(<span class="number">5</span> , <span class="number">15</span>);     <span class="comment">//11</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="4">
<li><strong>mt_rand()<strong>：与rand一样，只是底层结构不同</strong>效率更高</strong></li>
<li>round()：四舍五入</li>
<li>ceil()：向上取整</li>
<li>floor()：向下取整</li>
<li>pow()</li>
<li>abs()</li>
<li>sqrt()</li>
</ol>
<h2 id="有关函数的函数"><a href="#有关函数的函数" class="headerlink" title="有关函数的函数"></a>有关函数的函数</h2><ol>
<li>function_exists()：半段指定的函数名字是否在内存中（帮助用户不去使用一个不存在的函数，让代码安全性更高）</li>
<li>func_get_arg()：在自定义函数中去后去指定数值对应的参数</li>
<li>func_get_args()：在自定义函数中获取所有的参数（数组）</li>
<li>func_num_args()：获取当前自定怀疑函数的参数数量</li>
</ol>
<p>列如:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"><span class="variable">$a</span>,<span class="variable">$b</span></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//获取指定参数</span></span><br><span class="line">    var_dump(func_get_arg(<span class="number">1</span>));</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//获取所有参数</span></span><br><span class="line">    var_dump(func_get_args());</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//获取参数数量</span></span><br><span class="line">    var_dump(func_num_args());</span><br><span class="line">&#125;</span><br><span class="line">	<span class="comment">//调用函数</span></span><br><span class="line">	function_exists(<span class="string">&#x27;test&#x27;</span>) &amp;&amp; test(<span class="number">1</span>,<span class="string">&#x27;2&#x27;</span>,<span class="number">3</span>,<span class="number">4</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>结果为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">string(1) &quot;2&quot;</span><br><span class="line">array(4) &#123;</span><br><span class="line">	[0]&#x3D;&gt;int(1)</span><br><span class="line">	[1]&#x3D;&gt;string(1) &quot;2&quot;</span><br><span class="line">	[2]&#x3D;&gt;int(3)</span><br><span class="line">	[3]&#x3D;&gt;int(4)</span><br><span class="line">&#125;</span><br><span class="line">int(4)</span><br></pre></td></tr></table></figure>

<h1 id="文件加载路径"><a href="#文件加载路径" class="headerlink" title="文件加载路径"></a>文件加载路径</h1><p>文件的加载路径包含两大类：</p>
<ol>
<li><p>绝对路径</p>
<p>从词牌的根目录开始（本地绝对路径）</p>
<p>如Windows：盘符C:/路径/PHP 文件</p>
<p>Linux：/路径/PHP 文件</p>
<p>从网站根目录开始（网络绝对路径）</p>
<p>/：相对于网络主机名字对应的路径</p>
<p>localhost/index.php -&gt; E:/server/apache/htdocs/index.php</p>
</li>
<li><p>相对路径：从当前文件所在目录开始的路径</p>
<p>. | ./：表示当前文件夹</p>
<p>../：上级目录（当前文件夹的上一层文件夹）</p>
</li>
</ol>
<p>绝对路径和相对路径的区别</p>
<ol>
<li>绝对路径相对效率偏低，但是相对安全（路径不会出问题）</li>
<li>相对路径相对效率高些，但是容易出错（相对路径会发生改变）</li>
</ol>
<h1 id="global关键字"><a href="#global关键字" class="headerlink" title="global关键字"></a>global关键字</h1><p>在 PHP 中，有一种方法，能够实现全局访问局部，同时局部也能访问全局：global关键字。</p>
<p>global关键字：是一种在函数里面定义变量的一种方式</p>
<ol>
<li><p>如果使用global定义的变量名在外部存在（全局变量），那么系统在函数内部定义的变量直接指向外部全局变量所指向的内存空间（同一个变量）；</p>
</li>
<li><p>如果使用global啊定义的变量名在外部不存在（全局变量），系统会自动在全局空间（外部）定义一个与全局变量同名的全局变量。</p>
</li>
</ol>
<p>本质的形式：在函数的内部和外部，对一个同名的变量（全局和局部）使用同一块内存地址保存数据，从而实现共同拥有。</p>
<p>基本语法：</p>
<p>global  变量名    //不能赋值</p>
<p>变量名  =  值       //修改</p>
<p><strong>但不推荐使用</strong></p>
<h1 id="静态变量"><a href="#静态变量" class="headerlink" title="静态变量"></a>静态变量</h1><p>静态变量：static，是在函数内部定义的变量，使用 static 关键字修饰，用来实现跨函数共享数据的变量（函数运行结束后局部变量会清空，重新运行函数，所有的局部变量又会重新初始化）。</p>
<p>基本语法：</p>
<p><strong>function 函数名(){</strong></p>
<p>​        <strong>//定义变量</strong></p>
<p>​        <strong>static $变量名 = 值;</strong></p>
<p><strong>}</strong></p>
<p>静态变量的使用：</p>
<ol>
<li>为了统计：当前函数被调用的次数</li>
<li>为了统筹函数多次调用得到的不同结果</li>
</ol>
<h1 id="可变函数"><a href="#可变函数" class="headerlink" title="可变函数"></a>可变函数</h1><p>可变函数：当前有一个变量所保存得到的值，刚好是一个函数的名字，那么就可以使用变量+()来充当函数名使用。</p>
<p><strong>$变量 = ‘display’</strong></p>
<p><strong>function display(){</strong></p>
<p>…</p>
<p><strong>}</strong></p>
<p><strong>// 可变函数</strong></p>
<p><strong>$变量</strong></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?PHP</span></span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">display</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">echo</span> <span class="keyword">__LINE__</span> , <span class="keyword">__FUNCTION__</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="variable">$func</span> = <span class="string">&#x27;display&#x27;</span>;</span><br><span class="line">	<span class="variable">$func</span>();</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>适用范围：可变函数在系统使用的过程中还是比较多的，尤其是使用很多系统函数的时候：选哟用户在外部定义一个自定义函数，但是是需要传入到系统内部使用的。</p>
<h1 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h1><h3 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h3><p>匿名函数：没有名字的函数</p>
<p>基本语法：</p>
<p>变量名 = function(){</p>
<p>​    函数体</p>
<p>};</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$func</span> = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">echo</span> <span class="string">&#x27;hello world&#x27;</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//调用匿名函数</span></span><br><span class="line"><span class="variable">$func</span>();</span><br></pre></td></tr></table></figure>

<p>变量保存匿名函数，本质得到的是一个对象（Closure）</p>
<h2 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h2><p>闭包：closure，一词来源于以下两者结合：要执行的代码块（由于自由变量被包含在代码块中，这些自由变量以及他们引用的对象没有被释放）和为自由变量提供绑定的计算环境（作用域）</p>
<p>简单理解：函数内部有一些局部变量（徐要执行的代码块）在函数执行之后没有被释放，是应为在函数内部还有对应的函数在引用（函数的内部函数：匿名函数）</p>
<h1 id="字符串转义"><a href="#字符串转义" class="headerlink" title="字符串转义"></a>字符串转义</h1><h2 id="双引号中变量识别的规则"><a href="#双引号中变量识别的规则" class="headerlink" title="双引号中变量识别的规则"></a>双引号中变量识别的规则</h2><ol>
<li>变量本身系统能够与后面的内容区分：应保证变量的独立性，不要让系统难以区分</li>
<li>使用变量标识符区分——给变量加上一组大括号{}</li>
</ol>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$a</span> = <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line"><span class="comment">//变量识别</span></span><br><span class="line"><span class="variable">$str1</span> = <span class="string">&#x27;abce $a dfg&#x27;</span>;		<span class="comment">//输出：abce $a dfg</span></span><br><span class="line"><span class="variable">$str2</span> = <span class="string">&quot;abce <span class="subst">$a</span> dfg&quot;</span>;		<span class="comment">//输出：abce hello dfg</span></span><br><span class="line"><span class="variable">$str3</span> = <span class="string">&quot;abce<span class="subst">$adfg</span>&quot;</span>;		<span class="comment">//error</span></span><br><span class="line"><span class="variable">$str4</span> = <span class="string">&quot;abce<span class="subst">&#123;$a&#125;</span>dfg&quot;</span>		<span class="comment">//输出：abcehellodfg</span></span><br></pre></td></tr></table></figure>



<h1 id="数组定义语法"><a href="#数组定义语法" class="headerlink" title="数组定义语法"></a>数组定义语法</h1><ol>
<li><p>使用 array 关键字（最常用）：</p>
<p>$变量 = array(元素1 ， 元素2 ， …)；</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$arr1</span> = <span class="keyword">array</span>(<span class="string">&#x27;1&#x27;</span>,<span class="number">2</span>,<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line">var_dump(<span class="variable">$arr1</span>);</span><br></pre></td></tr></table></figure>

<p>结果为：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">array</span>(<span class="number">3</span>) &#123; [<span class="number">0</span>]=&gt; <span class="keyword">string</span>(<span class="number">1</span>) <span class="string">&quot;1&quot;</span> [<span class="number">1</span>]=&gt; <span class="keyword">int</span>(<span class="number">2</span>) [<span class="number">2</span>]=&gt; <span class="keyword">string</span>(<span class="number">5</span>) <span class="string">&quot;hello&quot;</span>&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>可以使用中括号来包裹数据：</p>
<p>$变量 = [元素1 ，元素2 ， …];</p>
</li>
<li><p>隐形定义数组：给变量增加一个中括号，系统自动变成数组</p>
<p>$变量[] = 值 1;        //如果不提供小表也可以，系统自动生成（数字：从0开始）</p>
<p>$变量[下标] = 值  ; //中括号里面的内容称之为下标 key 该下标可以是字母 （单词） 或者数字，与变量命名的规则相似    如：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$arr3</span>[] = <span class="number">1</span>;</span><br><span class="line"><span class="variable">$arr3</span>[<span class="number">10</span>] = <span class="number">100</span>;</span><br><span class="line"><span class="variable">$arr3</span>[] = <span class="string">&#x27;1&#x27;</span>;</span><br><span class="line"><span class="variable">$arr3</span>[<span class="string">&#x27;key&#x27;</span>] = <span class="string">&#x27;key&#x27;</span>;</span><br><span class="line">var_dump(<span class="variable">$arr3</span>);</span><br></pre></td></tr></table></figure>

<p>结果为：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">array</span>(<span class="number">4</span>) &#123; [<span class="number">0</span>]=&gt; <span class="keyword">int</span>(<span class="number">1</span>) [<span class="number">10</span>]=&gt; <span class="keyword">int</span>(<span class="number">100</span>) [<span class="number">11</span>]=&gt; <span class="keyword">string</span>(<span class="number">1</span>) <span class="string">&quot;1&quot;</span> [<span class="string">&quot;key&quot;</span>]=&gt; <span class="keyword">string</span>(<span class="number">3</span>) <span class="string">&quot;key&quot;</span>&#125;</span><br></pre></td></tr></table></figure>

<p>默认下标是当前前面最大的开始  如：第三行上的最大下标为10，所以第三行 <strong>$arr3[] = ‘1’</strong>; 下标为11   </p>
</li>
</ol>
<h1 id="数组定义语法-1"><a href="#数组定义语法-1" class="headerlink" title="数组定义语法"></a>数组定义语法</h1><ol>
<li><p>安装服务：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld --install </span><br></pre></td></tr></table></figure></li>
<li><p>初始化：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld --initialize --console</span><br></pre></td></tr></table></figure></li>
<li><p>开启服务：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net start mysql</span><br></pre></td></tr></table></figure></li>
<li><p>关闭服务：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net stop mysql</span><br></pre></td></tr></table></figure></li>
<li><p>登录mysql：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br><span class="line">enter password：（密码）</span><br></pre></td></tr></table></figure></li>
<li><p>修改密码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter user &#39;root&#39;@&#39;localhost&#39; identified by &#39;新密码&#39;;</span><br></pre></td></tr></table></figure></li>
<li><p>标记删除mysql服务：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sc delete mysql</span><br></pre></td></tr></table></figure>



<p><strong><a target="_blank" rel="noopener" href="https://www.cnblogs.com/winton-nfs/p/11524007.html">安装参考</a></strong></p>
</li>
</ol>
<h1 id="my-ini配置文件"><a href="#my-ini配置文件" class="headerlink" title="my.ini配置文件"></a>my.ini配置文件</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[client]</span><br><span class="line"># 设置mysql客户端默认字符集</span><br><span class="line">default-character-set&#x3D;utf8</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line"># 设置3306端口</span><br><span class="line">port &#x3D; 3306</span><br><span class="line"># 设置mysql的安装目录</span><br><span class="line">basedir&#x3D;D:\\web\\mysql-8.0.23</span><br><span class="line"># 允许最大连接数</span><br><span class="line">max_connections&#x3D;20</span><br><span class="line"># 服务器端使用的字符集默认为8比特编码的latin1字符集</span><br><span class="line">character-set-server&#x3D;utf8</span><br><span class="line"># 创建新表时将使用的默认存储引擎</span><br><span class="line">default-storage-engine&#x3D;INNODB</span><br><span class="line">default_authentication_plugin&#x3D;mysql_native_password</span><br></pre></td></tr></table></figure>



<h1 id="PHP测试连接mysql"><a href="#PHP测试连接mysql" class="headerlink" title="PHP测试连接mysql"></a>PHP测试连接mysql</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;mysql test&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;?php</span><br><span class="line">$dbhost &#x3D; &#39;localhost&#39;; &#x2F;&#x2F;mysql服务器主机地址</span><br><span class="line">$dbuser &#x3D; &#39;root&#39;; &#x2F;&#x2F;mysql用户名</span><br><span class="line">$dbpass &#x3D; &#39;123&#39;; &#x2F;&#x2F;mysql用户名密码</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 创建连接</span><br><span class="line">$conn &#x3D; new mysqli($dbhost, $dbuser, $dbpass);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 检测连接</span><br><span class="line">if($conn-&gt;connect_error)</span><br><span class="line">&#123;</span><br><span class="line">    die(&quot;连接失败：&quot; . $conn-&gt;connect_error);</span><br><span class="line">&#125;</span><br><span class="line">echo &quot;连接成功！&quot;;</span><br></pre></td></tr></table></figure>

<h1 id="MySQL服务端框架"><a href="#MySQL服务端框架" class="headerlink" title="MySQL服务端框架"></a>MySQL服务端框架</h1><p>MySQL服务端架构有以下几层</p>
<ol>
<li>数据库管理系统（最外层）：DBMS，专门管理服务器端的所有内容</li>
<li>数据库（第二层）：DB，专门用于存储数据的仓库（可以有很多个）</li>
<li>二维数据表（第三层）：Table，专门用于存储具体实体的数据</li>
<li>字段（第四层）：Field，具体存储莫种类型的数据（实际存储单元）</li>
</ol>
<p>数据库中常用的几个关键字</p>
<p><strong>row：行</strong></p>
<p><strong>column：列（field）</strong></p>
<h1 id="数据库基本操作"><a href="#数据库基本操作" class="headerlink" title="数据库基本操作"></a>数据库基本操作</h1><p>数据库是数据存储的最外层（最大单元）</p>
<h2 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h2><p>基本语法：<strong>create database 数据库名字 [库选项];</strong></p>
<p>库选项：数据库相关属性</p>
<ol>
<li><p>字符集：charset 字符集，代表着当前数据库下的所有表存储的数据默认指定的字符集（如果当前不指定，那么采用 DBMS 默认的）</p>
</li>
<li><p>校对集：collate 校对集</p>
<p>create database 数据库名字 charset 字符集名称</p>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create database mydatabase1 charset gbk;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="显示数据库"><a href="#显示数据库" class="headerlink" title="显示数据库"></a>显示数据库</h2><p>每当用通过通过 SQL 指令创建一个数据库，那么系统就会产生一个对应的存储数据的文件夹</p>
<h3 id="显示全部"><a href="#显示全部" class="headerlink" title="显示全部"></a>显示全部</h3><p>基本语法：<strong>show databases</strong></p>
<h3 id="显示部分"><a href="#显示部分" class="headerlink" title="显示部分"></a>显示部分</h3><p>基本语法：<strong>show databases like ‘匹配模式’；</strong></p>
<p><strong>_<strong>：匹配当前位置</strong>单个</strong>字符</p>
<p><strong>%<strong>：匹配指定位置</strong>多个</strong>字符</p>
<p>例如：</p>
<p>获取以 my 开头的全部数据库：… ‘my%’;</p>
<p>获取以 m 开头，后面第一个字母不确定，最后为 database 的数据库：… ‘m_database’;</p>
<p>获取以 database 结尾打的数据库：’%database’;</p>
<h3 id="显示数据库创建语句"><a href="#显示数据库创建语句" class="headerlink" title="显示数据库创建语句"></a>显示数据库创建语句</h3><p>基本语法：<strong>show create database 数据库名字;</strong></p>
<h3 id="选择数据库"><a href="#选择数据库" class="headerlink" title="选择数据库"></a>选择数据库</h3><p>基本语法：<strong>use 数据库名字;</strong></p>
<p>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use mydatabase</span><br></pre></td></tr></table></figure>

<p>出现 <strong>database changed</strong> 表示当前已经进入到指定的数据库环境</p>
<h3 id="修改数据库"><a href="#修改数据库" class="headerlink" title="修改数据库"></a>修改数据库</h3><p>修改数据库字符集（库选项）：字符集和校对集</p>
<p>基本语法：<strong>alter database 数据库名字 charset (=) 字符集;</strong></p>
<h3 id="删除数据库"><a href="#删除数据库" class="headerlink" title="删除数据库"></a>删除数据库</h3><p>基本语法：<strong>drop database 数据库名字;</strong></p>
<h1 id="数据表操作"><a href="#数据表操作" class="headerlink" title="数据表操作"></a>数据表操作</h1><h2 id="创建数据表"><a href="#创建数据表" class="headerlink" title="创建数据表"></a>创建数据表</h2><h3 id="普通创建表"><a href="#普通创建表" class="headerlink" title="普通创建表"></a>普通创建表</h3><p>基本语法：<strong>create table 表名(字段名 字段类型 [字段属性], 字段名 字段类型 [字段属性],… );</strong></p>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">-- 任何位置</span><br><span class="line">create table mydatabase.class(</span><br><span class="line">name varchar(10)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">-- 指定位置</span><br><span class="line">use mydatabase</span><br><span class="line">creat table teacher(</span><br><span class="line">name varchar(10)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>



<p>表选项：与数据库选项类似</p>
<ol>
<li>engine：存储引擎，MySQL提供的具体存储数据的方式，默认有一个innodb</li>
<li>charset：字符集（只对当前自己的表有效，级别比数据库高）</li>
<li>collate：校对集</li>
</ol>
<h3 id="复制已有表结构"><a href="#复制已有表结构" class="headerlink" title="复制已有表结构"></a>复制已有表结构</h3><p>从已经存在的表复制一份（<strong>只复制结构</strong>：如果表中有数据，数据不复制）</p>
<p>基本语法：<strong>create table 新表名 like 表名;</strong>        //只要使用数据库.表名，就可以在任何数据库下访问其他数据库的表名    如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">use mydatabase2</span><br><span class="line">create table stduent like mydatabase.teacher;</span><br></pre></td></tr></table></figure>



<h2 id="显示数据表"><a href="#显示数据表" class="headerlink" title="显示数据表"></a>显示数据表</h2><p>每当一张表创建，那么就会在相应的数据库下创建一些文件（与存储引擎有关）</p>
<h3 id="显示所有表"><a href="#显示所有表" class="headerlink" title="显示所有表"></a>显示所有表</h3><p><strong>基本语法：show tables;</strong></p>
<h3 id="匹配显示表"><a href="#匹配显示表" class="headerlink" title="匹配显示表"></a>匹配显示表</h3><p><strong>基本语法：show tables like ‘匹配模式’;</strong></p>
<h2 id="显示表结构"><a href="#显示表结构" class="headerlink" title="显示表结构"></a>显示表结构</h2><p>本质含义：显示表中所包含的字段信息（名字，类型，属性）</p>
<p><strong>describe 表名;</strong></p>
<p><strong>desc 表名;</strong></p>
<p><strong>show columns from 表名;</strong></p>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">-- 输入</span><br><span class="line">desc class;</span><br><span class="line"></span><br><span class="line">-- 结果</span><br><span class="line">+-------+-------------+------+-----+---------+-------+</span><br><span class="line">| Field | Type        | Null | Key | Default | Extra |</span><br><span class="line">+-------+-------------+------+-----+---------+-------+</span><br><span class="line">| name  | varchar(10) | YES  |     | NULL    |       |</span><br><span class="line">+-------+-------------+------+-----+---------+-------+</span><br><span class="line">1 row in set (0.01 sec)</span><br><span class="line"></span><br><span class="line">-----------------------------------------------------------------------------------------</span><br><span class="line">-- Field   &#x3D;&gt; 字段名字</span><br><span class="line">-- Type    &#x3D;&gt; 字段类型</span><br><span class="line">-- Null    &#x3D;&gt; 值是否允许为空；yes代表允许</span><br><span class="line">-- Key	   &#x3D;&gt; 索引</span><br><span class="line">-- Default &#x3D;&gt; 默认值：NULL表示默认为NULL</span><br><span class="line">-- Extra   &#x3D;&gt; 额外的属性</span><br></pre></td></tr></table></figure>



<h2 id="显示表创建语句"><a href="#显示表创建语句" class="headerlink" title="显示表创建语句"></a>显示表创建语句</h2><p>查看数据表创建时的语句：此语句看到的结果已经不是用户之前自己输入的。</p>
<p>基本语法：<strong>show create table 表名;</strong></p>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">-- 输入</span><br><span class="line">show create table class;</span><br><span class="line"></span><br><span class="line">-- 结果</span><br><span class="line">+-------+-------------------------------------------------------------------------------+</span><br><span class="line">| Table | Create Table                                                                  |</span><br><span class="line">+-------+-------------------------------------------------------------------------------+</span><br><span class="line">| class | CREATE TABLE &#96;class&#96; (</span><br><span class="line">  &#96;name&#96; varchar(10) DEFAULT NULL</span><br><span class="line">) ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8 |</span><br><span class="line">+-------+-------------------------------------------------------------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>MySQL中有多种语句结束符</p>
<p>; 与 \g 所表示效果一致</p>
<p>\G 字段在左侧竖着，数据在右侧横着</p>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">-- 输入</span><br><span class="line">show table class\G</span><br><span class="line"></span><br><span class="line">-- 结果</span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">       Table: class</span><br><span class="line">Create Table: CREATE TABLE &#96;class&#96; (</span><br><span class="line">  &#96;name&#96; varchar(10) DEFAULT NULL</span><br><span class="line">) ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>



<h1 id="数据基础操作"><a href="#数据基础操作" class="headerlink" title="数据基础操作"></a>数据基础操作</h1><h2 id="插入操作"><a href="#插入操作" class="headerlink" title="插入操作"></a>插入操作</h2><p>本质含义：将 数据以 SQL 的形式存储到指定的数据表 （字段）里面</p>
<p>基本语法：</p>
<p><strong>insert into 表名[(字段列表)] values(对应字段列表)</strong></p>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-- 创建数据表</span><br><span class="line">create table my_teacher(</span><br><span class="line">name varchar(10),</span><br><span class="line">age int</span><br><span class="line">)charset utf8;</span><br><span class="line"></span><br><span class="line">-- 插入数据到数据表</span><br><span class="line">insert into my_teacher (name,age) values(&#39;Jack&#39;,30);</span><br></pre></td></tr></table></figure>

<p>注意：后面 values 中对应的值列表只需要与前面的字段列表相对应即可</p>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">insert into my_teacher (age,name) values(31,&#39;Peter&#39;);</span><br></pre></td></tr></table></figure>



<h2 id="查询操作"><a href="#查询操作" class="headerlink" title="查询操作"></a>查询操作</h2><p>查询表中全部数据：<strong>select * from 表名;</strong></p>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">-- 获取所有数据</span><br><span class="line">select * from my_teacher;</span><br><span class="line"></span><br><span class="line">-- 结果</span><br><span class="line">+-------+------+</span><br><span class="line">| name  | age  |</span><br><span class="line">+-------+------+</span><br><span class="line">| Jack  |   30 |</span><br><span class="line">| Peter |   31 |</span><br><span class="line">+-------+------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>查询表中部分字段：<strong>select 字段列表 from 表名;</strong>                <strong>//字段列表使用逗号 “,” 隔开</strong></p>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">-- 获取指定字段数据</span><br><span class="line">select name from my_teacher;</span><br><span class="line"></span><br><span class="line">-- 结果</span><br><span class="line">+-------+</span><br><span class="line">| name  |</span><br><span class="line">+-------+</span><br><span class="line">| Jack  |</span><br><span class="line">| Peter |</span><br><span class="line">+-------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>简单条件查询数据：<em><em>select 字段列表/</em> from 表名 where 字段名 = 值;</em>*            //mysql 中没有==符号</p>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">-- 获取年龄为30岁的人的名字</span><br><span class="line">select name from my_teacher where age &#x3D; 30;</span><br><span class="line"></span><br><span class="line">-- 结果</span><br><span class="line">+------+</span><br><span class="line">| name |</span><br><span class="line">+------+</span><br><span class="line">| Jack |</span><br><span class="line">+------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>



<h2 id="删除操作"><a href="#删除操作" class="headerlink" title="删除操作"></a>删除操作</h2><p>基本语法：<strong>delete from 表名 [where 条件];</strong>                //如果没有 where 条件，系统将会删除该表全部的数据</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 删除年龄为30岁的老师</span><br><span class="line">delete from my_teacher where age &#x3D; 30;</span><br></pre></td></tr></table></figure>



<h2 id="更新操作（数据修改）"><a href="#更新操作（数据修改）" class="headerlink" title="更新操作（数据修改）"></a>更新操作（数据修改）</h2><p>基本语法：<strong>update 表名 set 字段名 = 新值 [where 条件]</strong>        //如果没有where，那么所有表中对应的字段都会被修改成统一值    如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 更新年龄Hank</span><br><span class="line">update my_teacher set age &#x3D; 32 where name &#x3D; &#39;Hank&#39;;</span><br></pre></td></tr></table></figure>



<h1 id="字符集"><a href="#字符集" class="headerlink" title="字符集"></a>字符集</h1><h2 id="设置客户端所有字符集"><a href="#设置客户端所有字符集" class="headerlink" title="设置客户端所有字符集"></a>设置客户端所有字符集</h2><p>如果直接通过 cmd 下的 mysql.exe 进行中文数据插入，那么<strong>可能</strong>出错</p>
<p>出错原因：</p>
<ol>
<li>用户是通过 mysql.exe 来操作 mysqld.exe</li>
<li>真正的 SQL 执行时 MySQLd.exe 来执行</li>
<li>mysql.exe 将数据传入 mysqld.exe 的时候，没有告知其对应的符号规则（字符集），mysqld 也没有能力自己判断，就会使用默认的字符集</li>
</ol>
<p>解决方案：mysql.exe 客户端再进行数据操作之前将自己所使用的字符集告诉 mysqld</p>
<p>cmd 下的 mysql.exe 默认都只有一个字符集</p>
<p>快捷方式：<strong>set names 字符集;</strong></p>
<h5 id="深层原理：客户端，服务端，连接层"><a href="#深层原理：客户端，服务端，连接层" class="headerlink" title="深层原理：客户端，服务端，连接层"></a>深层原理：客户端，服务端，连接层</h5><p>mysql.exe 与 mysqld.exe 之间的处理关系一共分为三层</p>
<p>客户端传入数据给服务端：client</p>
<p>服务端返回数据给客户端：server</p>
<p>客户端与服务端之间的连接：collection</p>
<p>set names 字符集 本质：就是一次性大同三层关系的字符集，变得一致。</p>
<p><strong>即：改变 character_set_client   character_set_connection   character_set_results 这三个的 value</strong></p>
<p>在系统中有三个变量来记录这三个关系对应的字符集</p>
<h5 id="查看系统保存的三种关系处理字符集"><a href="#查看系统保存的三种关系处理字符集" class="headerlink" title="查看系统保存的三种关系处理字符集"></a>查看系统保存的三种关系处理字符集</h5><p>基本语法：<strong>show variables like ‘character_set_%’;</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">-- 结果</span><br><span class="line">+--------------------------+-------------------------------------+</span><br><span class="line">| Variable_name            | Value                               |</span><br><span class="line">+--------------------------+-------------------------------------+</span><br><span class="line">| character_set_client     | utf8                                |</span><br><span class="line">| character_set_connection | utf8                                |</span><br><span class="line">| character_set_database   | gbk                                 |</span><br><span class="line">| character_set_filesystem | binary                              |</span><br><span class="line">| character_set_results    | utf8                                |</span><br><span class="line">| character_set_server     | utf8                                |</span><br><span class="line">| character_set_system     | utf8                                |</span><br><span class="line">| character_sets_dir       | D:\web\mysql-8.0.23\share\charsets\ |</span><br><span class="line">+--------------------------+-------------------------------------+</span><br><span class="line"></span><br><span class="line">----------------------------------------------------------------------------------------</span><br><span class="line">-- character_set_client 客户端传入</span><br><span class="line">-- character_set_connection 连接层</span><br><span class="line">-- character_set_database 当前数据库存储方式</span><br><span class="line">-- character_set_results 返回的字符集</span><br></pre></td></tr></table></figure>



<h1 id="列类型（字段类型）"><a href="#列类型（字段类型）" class="headerlink" title="列类型（字段类型）"></a>列类型（字段类型）</h1><h2 id="整数型类型"><a href="#整数型类型" class="headerlink" title="整数型类型"></a>整数型类型</h2><h3 id="tinyint"><a href="#tinyint" class="headerlink" title="tinyint"></a>tinyint</h3><p>迷你整形，系统采用一个字节来保存的整形：一个字节 = 8 位，最大能表示的数值是 0-255</p>
<h3 id="smallint"><a href="#smallint" class="headerlink" title="smallint"></a>smallint</h3><p>小整形，系统采用两个字节来保存的整形，能表示 0-65535 之间</p>
<h3 id="mediumint"><a href="#mediumint" class="headerlink" title="mediumint"></a>mediumint</h3><p>中整形，采用三个字节来保存数据</p>
<h3 id="int"><a href="#int" class="headerlink" title="int"></a>int</h3><p>整形（标准整形），采用四个字节来保存数据</p>
<h3 id="bigint"><a href="#bigint" class="headerlink" title="bigint"></a>bigint</h3><p>大整形，采用八个字节来保存数据</p>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">-- 创建数据表</span><br><span class="line">create table my_int(</span><br><span class="line">int_1 tinyint,</span><br><span class="line">int_2 smallint,</span><br><span class="line">int_3 mediumint,</span><br><span class="line">int_4 int,</span><br><span class="line">int_5 bigint</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">-- 插入数据</span><br><span class="line">insert into my_int values(10,10000,1000000,100000,1000000000);</span><br><span class="line"></span><br><span class="line">insert into my_int values(255,10000,1000000,100000,1000000000);</span><br><span class="line">-- 结果</span><br><span class="line">ERROR 1264 (22003): Out of range value for column &#39;int_1&#39; at row 1</span><br><span class="line">-- 原因</span><br><span class="line">因为有负数存在 实际的范围为 -128-127</span><br></pre></td></tr></table></figure>



<h2 id="无符号标识设定"><a href="#无符号标识设定" class="headerlink" title="无符号标识设定"></a>无符号标识设定</h2><p>基本语法：<strong>在类型之后加上一个 unsigned                //（但无负数）</strong></p>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">-- 插入数据</span><br><span class="line">alter table my_int add int_6 tinyint unsigned first;</span><br><span class="line">insert into my_int values(255,127,10000,1000000,100000,1000000000);</span><br><span class="line">-- 查看数据</span><br><span class="line">select * from my_int;</span><br><span class="line">-- 结果</span><br><span class="line">+-------+-------+-------+---------+--------+------------+</span><br><span class="line">| int_6 | int_1 | int_2 | int_3   | int_4  | int_5      |</span><br><span class="line">+-------+-------+-------+---------+--------+------------+</span><br><span class="line">|  NULL |    10 | 10000 | 1000000 | 100000 | 1000000000 |</span><br><span class="line">|   255 |   127 | 10000 | 1000000 | 100000 | 1000000000 |</span><br><span class="line">+-------+-------+-------+---------+--------+------------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>



<h1 id="小数类型"><a href="#小数类型" class="headerlink" title="小数类型"></a>小数类型</h1><p>在 MySQL 中将小数分为两类：浮点型和定点型</p>
<h2 id="浮点型"><a href="#浮点型" class="headerlink" title="浮点型"></a>浮点型</h2><p>浮点型又称之为精度类型：是由一种可能丢失精度的数据类型，数据有可能不那么准确（尤其是在超出范围的时候）</p>
<h3 id="float"><a href="#float" class="headerlink" title="float"></a>float</h3><p>float 又称为单精度类型，系统提供 <strong>4 个字节</strong>用来存储数据，范围：10^38。但只能保证大概 <strong>7 个</strong>左右的精度（如果数据在七位数以内，那么基本是准确的，但超过 7 位数，那么就是不准确的）</p>
<p>基本语法：</p>
<ol>
<li>float：表示不指定小数位u的浮点数</li>
<li>float(M,D)：表示一共存储 M 个有效数字，其中小数部分占 D 位</li>
</ol>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">-- 创建表</span><br><span class="line">create table my_float(</span><br><span class="line">    f1 float,</span><br><span class="line">    f2 float(10,2)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">-- 插入数据</span><br><span class="line">insert into my_float valuse(123.123,12345678.90);</span><br><span class="line"></span><br><span class="line">-- 结果</span><br><span class="line">+---------+-------------+</span><br><span class="line">| f1      | f2          |</span><br><span class="line">+---------+-------------+</span><br><span class="line">| 123.123 | 12345679.00 |</span><br><span class="line">+---------+-------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>注意：如果数据精度丢失，那么浮点型是按照四舍五入的方式进行计算，所以 f2 中数据变为12345679.00</p>
<p><strong>浮点型也能使用科学计数法进行存储数据</strong></p>
<h3 id="double"><a href="#double" class="headerlink" title="double"></a>double</h3><p>double 又称为双精度，系统提供 <strong>8 个字节</strong>来存储数据，表示范围更大：10^308，但精度也只有 <strong>15 位</strong>左右</p>
<h2 id="定点数"><a href="#定点数" class="headerlink" title="定点数"></a>定点数</h2><p>定点数：能够保证数据精确的小数（小数部分可能不精确，超出长度会四舍五入），<strong>整数部分一定精确</strong></p>
<h3 id="decimal"><a href="#decimal" class="headerlink" title="decimal"></a>decimal</h3><p>decimal 定点数：系统自动根据存储的数据来分配存储空间，每大概 9 个数就会分配四个字节进行存储，同时小数和整数部分是分开的</p>
<p>decimal(M,D)：M 表示总长度，最大值不能超过 65，D 代表小数部分长度，最长不能超过30.</p>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">-- 创建表</span><br><span class="line">create table my_decimal(</span><br><span class="line">    f1 float(10,2),</span><br><span class="line">    d1 decimal(10,2)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">-- 插入数据</span><br><span class="line">insert into my_decimal values(12345678.90,12345678.90);</span><br><span class="line">insert into my_decimal values(99999999.99,99999999.99);</span><br><span class="line"></span><br><span class="line">-- 结果</span><br><span class="line">+--------------+-------------+</span><br><span class="line">| f1           | d1          |</span><br><span class="line">+--------------+-------------+</span><br><span class="line">|  12345679.00 | 12345678.90 |</span><br><span class="line">| 100000000.00 | 99999999.99 |</span><br><span class="line">+--------------+-------------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>



<h1 id="时间日期类型"><a href="#时间日期类型" class="headerlink" title="时间日期类型"></a>时间日期类型</h1><h2 id="date"><a href="#date" class="headerlink" title="date"></a>date</h2><p>日期类型：系统使用三个字节来存储数据，对应格式为：YYYY-mm-dd，能表示的范围是从 1000-01-01 到 9999-12-12，初始值为 0000-00-00</p>
<h2 id="time"><a href="#time" class="headerlink" title="time"></a>time</h2><p>时间类型：能够表示某个指定的时间，但是系统同样是提供 3 个字节来存储，对用的格式为：HH:ii:ss，但是 mysql 中的 time 类型能够表示时间范围要大得多，能表示-838:59:59 ~ 838:59:59，在 mysql 中具体用处使用开描述时间段</p>
<h2 id="datatime"><a href="#datatime" class="headerlink" title="datatime"></a>datatime</h2><p>日期时间类型：就是将 data 和 time 合并起来，表示时间，使用 8 个字节存储数据，格式为 YYYY-mm-dd HH:ii;ss</p>
<h2 id="year"><a href="#year" class="headerlink" title="year"></a>year</h2><p>年类型：占用 1 个字节来存储数据，能表示 1900<del>2155 年，但是 year 有两种数据插入方式：0</del>99 和四位数的具体年</p>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">-- 创建表</span><br><span class="line">create table my_date(</span><br><span class="line">    d1 date,</span><br><span class="line">    d2 time,</span><br><span class="line">    d3 datetime,</span><br><span class="line">    d4 timestamp,</span><br><span class="line">    d5 year</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">-- 插入数据</span><br><span class="line">insert into my_date values(</span><br><span class="line">&#39;1900-01-01&#39;,&#39;12:12:12&#39;,&#39;1900-01-01 12:12:12&#39;,&#39;1999-01-01 12:12:12&#39;,69</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">-- 结果</span><br><span class="line">+------------+----------+---------------------+---------------------+------+</span><br><span class="line">| d1         | d2       | d3                  | d4                  | d5   |</span><br><span class="line">+------------+----------+---------------------+---------------------+------+</span><br><span class="line">| 1900-01-01 | 12:12:12 | 1900-01-01 12:12:12 | 1999-01-01 12:12:12 | 2069 |</span><br><span class="line">+------------+----------+---------------------+---------------------+------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p><strong>注意：year 进行两位数插入的时候，有一个区间划分，零界点为 69 和 70，当输入69 以下，那么系统时间为 20+数字，如果是 70 以上，那么系统时间为 19+数字</strong></p>
<h1 id="字符串型"><a href="#字符串型" class="headerlink" title="字符串型"></a>字符串型</h1><h2 id="char"><a href="#char" class="headerlink" title="char"></a>char</h2><p>定长字符：指定长度之后，系统一定会分配指定的空间用于存储数据</p>
<p>基本语法：char(L)，L 代表<strong>字符数</strong>，长度为 0 ~ 255</p>
<h2 id="varchar"><a href="#varchar" class="headerlink" title="varchar"></a>varchar</h2><p>变长字符：指定长度之后，系统会根据实际存储的数据计算长度，分配合适的长度（数据没有超出长度）</p>
<p>基本语法：varchar(L)，L 代表字符数，L的理论值 0~65535</p>
<h2 id="text"><a href="#text" class="headerlink" title="text"></a>text</h2><p>文本类型：有两种文本类型</p>
<ol>
<li>text：存储普通的字符文本</li>
<li>blob：存储二进制文本（图片，文件），<strong>一般不用这个</strong>，通常使用一个链接指向对应的文件本身</li>
</ol>
<p>text：系统中提供四种 text</p>
<ol>
<li>tinytext：系统使用一个字节来保存，实际能够存储的数据为：2^8+1</li>
<li>text：使用两个字节来保存，实际存储为：2^16+2</li>
<li>mediumtext：使用三个字节来保存，实际存储为：2^24+3</li>
<li>longtext：使用四个字节保存，时间存储为：2^32+4</li>
</ol>
<h2 id="enum"><a href="#enum" class="headerlink" title="enum"></a>enum</h2><p>枚举类型：在数据插入之前，先设定几个项，这几个项就是可能最终出现的数据结果</p>
<p>基本语法：enum(数据值 1,数据值 2,…)</p>
<h2 id="set"><a href="#set" class="headerlink" title="set"></a>set</h2><p>集合：将多个数据选项可以同时保存的数据类型，本质是将指定的项按照对应的二进制位来进行控制：<strong>1 表示该选项被选中，0 表示没有被选中</strong></p>
<p>基本语法：set(‘值 1’,’值 2’,’值 3’,…)</p>
<p>系统为 set 提供了多个字节进行保存，但是系统会自动计算来选择具体的存储单元</p>
<p>1 个字节：set 只能有 8 个选项</p>
<p>2 个字节：set 只能有 16 个选项</p>
<p>3 个字节：set 只能有 24 个选项</p>
<p>8 个字节：set 只能有 64 个选项</p>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">-- 创建表</span><br><span class="line">create table my_set(</span><br><span class="line">hobby set(&#39;篮球&#39;,&#39;足球&#39;,&#39;羽毛球&#39;,&#39;乒乓球&#39;,&#39;网球&#39;,&#39;橄榄球&#39;,&#39;冰球&#39;,&#39;高尔夫球&#39;)</span><br><span class="line">);</span><br><span class="line">-- 插入数据</span><br><span class="line">insert into my_set values(&#39;篮球,足球,乒乓球&#39;);</span><br><span class="line">-- 数据选项所在的数据与数据插入的顺序无关，最终都会变成选项对应的顺序</span><br><span class="line">insert into my_set values(&#39;高尔夫球,篮球,足球,乒乓球&#39;);</span><br><span class="line">-- 结果</span><br><span class="line">+--------------------------------------+</span><br><span class="line">| hobby                                |</span><br><span class="line">+--------------------------------------+</span><br><span class="line">| 篮球,足球,乒乓球                     |</span><br><span class="line">| 篮球,足球,乒乓球,高尔夫球            |</span><br><span class="line">+--------------------------------------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p><strong>注意：set 和 enum 一样，最终存储到数据字段中的依然是数字而不是正式的字符串</strong></p>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">-- 以数值方式查看集合数据</span><br><span class="line">select hobby + 0 from my_set;</span><br><span class="line"></span><br><span class="line">-- 结果</span><br><span class="line">+-----------+</span><br><span class="line">| hobby + 0 |</span><br><span class="line">+-----------+</span><br><span class="line">|        11 |</span><br><span class="line">|       139 |</span><br><span class="line">+-----------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>



<p>enum：单选框</p>
<p>set：复选框</p>
<h1 id="列描述"><a href="#列描述" class="headerlink" title="列描述"></a>列描述</h1><p>列描述：comment，是专门用于给开发人员进行维护的一个注释说明</p>
<p>基本语法：comment ‘字段描述’;</p>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">-- 创建表，增加字段描述</span><br><span class="line">create table my_comment(</span><br><span class="line">name varchar(10) not null comment &#39;当前是用户名，不能为空&#39;,</span><br><span class="line">pass varchar(50) not null comment &#39;密码不能为空&#39;</span><br><span class="line">);</span><br><span class="line">-- 查看 comment</span><br><span class="line">+------------+--------------------------------------------------------------------------+</span><br><span class="line">| Table      | Create Table                                                             |</span><br><span class="line">+------------+--------------------------------------------------------------------------+</span><br><span class="line">| my_comment | CREATE TABLE &#96;my_comment&#96; (</span><br><span class="line">  &#96;name&#96; varchar(10) NOT NULL COMMENT &#39;当前是用户名，不能为空&#39;,</span><br><span class="line">  &#96;pass&#96; varchar(50) NOT NULL COMMENT &#39;密码不能为空&#39;</span><br><span class="line">) ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8                  |</span><br><span class="line">+------------+--------------------------------------------------------------------------+</span><br></pre></td></tr></table></figure>



<h1 id="主键"><a href="#主键" class="headerlink" title="主键"></a>主键</h1><p>primary key，在一张表中，有且只有一个字段，里面的只具有唯一性</p>
<h2 id="创建主键"><a href="#创建主键" class="headerlink" title="创建主键"></a>创建主键</h2><h3 id="随表创建"><a href="#随表创建" class="headerlink" title="随表创建"></a>随表创建</h3><p>系统提供了两种增加主键的方式</p>
<ol>
<li>直接在需要当作主键的字段之后增加 primary key 属性来确定主键</li>
<li>在所有字段之后增加 primary key 选项如：primary key(字段信息)</li>
</ol>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">-- 创建表</span><br><span class="line">-- 1</span><br><span class="line">create table my_pri1(</span><br><span class="line">username varchar(10) primary key</span><br><span class="line">);</span><br><span class="line">-- 2</span><br><span class="line">create table my_pri2(</span><br><span class="line">username varchar(10),</span><br><span class="line">primary key(username)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3 id="表后增加"><a href="#表后增加" class="headerlink" title="表后增加"></a>表后增加</h3><p>基本语法：alter table 表名 add primary key(字段);</p>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">-- 创建表</span><br><span class="line">create table my_pri3(</span><br><span class="line">username varchar(10)</span><br><span class="line">);</span><br><span class="line">-- 查看结果</span><br><span class="line">+----------+-------------+------+-----+---------+-------+</span><br><span class="line">| Field    | Type        | Null | Key | Default | Extra |</span><br><span class="line">+----------+-------------+------+-----+---------+-------+</span><br><span class="line">| username | varchar(10) | YES  |     | NULL    |       |</span><br><span class="line">+----------+-------------+------+-----+---------+-------+</span><br><span class="line">1 row in set (0.01 sec)</span><br><span class="line"></span><br><span class="line">-- 增加主键</span><br><span class="line">alter table my_pri3 add primary key(username);</span><br><span class="line">-- 查看结果</span><br><span class="line">+----------+-------------+------+-----+---------+-------+</span><br><span class="line">| Field    | Type        | Null | Key | Default | Extra |</span><br><span class="line">+----------+-------------+------+-----+---------+-------+</span><br><span class="line">| username | varchar(10) | NO   | PRI | NULL    |       |</span><br><span class="line">+----------+-------------+------+-----+---------+-------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p><strong>注意：主键一定不能为空</strong></p>
<h2 id="删除主键"><a href="#删除主键" class="headerlink" title="删除主键"></a>删除主键</h2><p>基本语法：alter table 表名 drop primary key;</p>
<p>注意：删除主键后其他被改变的值不会变为之前的样子如：<strong>my_pri3 中 null 为 no，删除主键后 null 还为 no</strong></p>
<h1 id="自动增长"><a href="#自动增长" class="headerlink" title="自动增长"></a>自动增长</h1><p>自动增长：auto_increament，当给定某个字段该属性之后，该列的数据在没有提供确定数据的时候，系统会根据之前已经存在的数据进行自动增加，填充数据</p>
<p><strong>通常用于逻辑主键</strong></p>
<h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><ol>
<li>在系统中有维护一组数据，用来保存当前使用好了自动增长的字段，记住当前对应的数据值，再给定一个指定的步长</li>
<li>当用户进行数据插入的时候，如果没有给定值，系统在原始值上再加上步长变成新的数据</li>
<li>自动增长的触发：给定属性的字段没有提供值</li>
</ol>
<p>注意：自动增长只适用于数值</p>
<h2 id="使用自动增长"><a href="#使用自动增长" class="headerlink" title="使用自动增长"></a>使用自动增长</h2><p>基本语法：在字段后增加一个属性 auto_increment</p>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">-- 创建一个自动增长的表</span><br><span class="line">create table my_auto(</span><br><span class="line">id int primary key auto_increment,</span><br><span class="line">name varchar(10),</span><br><span class="line">pass varchar(50)</span><br><span class="line">);</span><br><span class="line">-- 查看属性</span><br><span class="line">+-------+-------------+------+-----+---------+----------------+</span><br><span class="line">| Field | Type        | Null | Key | Default | Extra          |</span><br><span class="line">+-------+-------------+------+-----+---------+----------------+</span><br><span class="line">| id    | int         | NO   | PRI | NULL    | auto_increment |</span><br><span class="line">| name  | varchar(10) | YES  |     | NULL    |                |</span><br><span class="line">| pass  | varchar(50) | YES  |     | NULL    |                |</span><br><span class="line">+-------+-------------+------+-----+---------+----------------+</span><br><span class="line">3 rows in set (0.01 sec)</span><br><span class="line">-- 插入数据：触发自动增长，不给定具体指</span><br><span class="line">insert into my_auto values(null,&#39;Tom&#39;,&#39;123456&#39;);</span><br><span class="line">insert into my_auto values(null,&#39;Jack&#39;,&#39;123456&#39;);</span><br><span class="line">insert into my_auto values(null,&#39;Jane&#39;,&#39;123456&#39;);</span><br><span class="line">--查看数据结果</span><br><span class="line">+----+------+--------+</span><br><span class="line">| id | name | pass   |</span><br><span class="line">+----+------+--------+</span><br><span class="line">|  1 | Tom  | 123456 |</span><br><span class="line">|  2 | Jack | 123456 |</span><br><span class="line">|  3 | Jane | 123456 |</span><br><span class="line">+----+------+--------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h2 id="修改自动增长"><a href="#修改自动增长" class="headerlink" title="修改自动增长"></a>修改自动增长</h2><p>基本语法：alter table 表名 auto_increment = 值</p>
<h2 id="删除自动增长"><a href="#删除自动增长" class="headerlink" title="删除自动增长"></a>删除自动增长</h2><p>删除自动增长，就是在字段属性之后不再保留 auto_increment，当用户修改自增长所在字段时，如果没有看到 auto_increment 属性，系统就会自动清除该自动增长</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-- 删除自增长</span><br><span class="line">alter table my_auto modify id int;</span><br><span class="line">-- 注意：不要再次增加primary key</span><br></pre></td></tr></table></figure>

<h2 id="初始设置"><a href="#初始设置" class="headerlink" title="初始设置"></a>初始设置</h2><p>在系统中，有一组变量用来维护自增长的初始值和步长</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">-- 查看自动增长初始变量</span><br><span class="line">show variables like &#39;auto_increment%&#39;;</span><br><span class="line">-- 结果</span><br><span class="line">+--------------------------+-------+</span><br><span class="line">| Variable_name            | Value |</span><br><span class="line">+--------------------------+-------+</span><br><span class="line">| auto_increment_increment | 1     |		-- 步长</span><br><span class="line">| auto_increment_offset    | 1     |		-- 初始值</span><br><span class="line">+--------------------------+-------+</span><br><span class="line">2 rows in set, 1 warning (0.00 sec)</span><br></pre></td></tr></table></figure>

<h2 id="细节问题"><a href="#细节问题" class="headerlink" title="细节问题"></a>细节问题</h2><ol>
<li><strong>一张表只有一个自动增长：自动增长会上升到表选项中</strong></li>
<li><strong>如果数据插入中没有触发自动增长（给定了数据），你们自动增长不会表现</strong></li>
<li><strong>自动增长修改的时候，值可以较大，但是不能比当前已有的自动增长字段的值小</strong></li>
</ol>
<h1 id="唯一键"><a href="#唯一键" class="headerlink" title="唯一键"></a>唯一键</h1><p>unique key，用来保证对应的字段中的数据唯一</p>
<p>注意：</p>
<ol>
<li><p>唯一键在一张表中可以有多个</p>
</li>
<li><p>唯一键允许字段数据为 null，null 库有多个（null 不参与比较）</p>
</li>
</ol>
<h2 id="创建唯一键"><a href="#创建唯一键" class="headerlink" title="创建唯一键"></a>创建唯一键</h2><p>创建唯一键与创建主键非常类似</p>
<ol>
<li><p>直接再表字段之后增加唯一键标识符：unique [key]</p>
</li>
<li><p>再所有的字段后使用 unique key(字段列表)</p>
</li>
<li><p>在创建完表之后也可以增加唯一键</p>
<p>alter table 表名 add unique key(字段列表)</p>
</li>
</ol>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">-- 创建表</span><br><span class="line">create table my_unique1(</span><br><span class="line">id int primary key auto_increment,</span><br><span class="line">username varchar(10) unique key</span><br><span class="line">);</span><br><span class="line">---------------------------------</span><br><span class="line">create table my_unique2(</span><br><span class="line">id int primary key auto_increment,</span><br><span class="line">username varchar(10),</span><br><span class="line">unique key(username)</span><br><span class="line">);</span><br><span class="line">--------------------------------</span><br><span class="line">create table my_unique3(</span><br><span class="line">id int primary key auto_increment,</span><br><span class="line">username varchar(10)</span><br><span class="line">);</span><br><span class="line">alter table my_unique3 add unique key(username);</span><br></pre></td></tr></table></figure>

<h2 id="查看唯一键"><a href="#查看唯一键" class="headerlink" title="查看唯一键"></a>查看唯一键</h2><p>唯一键是属性，可以通过查看表结构来实现</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">-- 查看</span><br><span class="line">desc my_unique1</span><br><span class="line">-- 结果</span><br><span class="line">+----------+-------------+------+-----+---------+----------------+</span><br><span class="line">| Field    | Type        | Null | Key | Default | Extra          |</span><br><span class="line">+----------+-------------+------+-----+---------+----------------+</span><br><span class="line">| id       | int         | NO   | PRI | NULL    | auto_increment |</span><br><span class="line">| username | varchar(10) | YES  | UNI | NULL    |                |</span><br><span class="line">+----------+-------------+------+-----+---------+----------------+</span><br><span class="line">2 rows in set (0.01 sec)</span><br></pre></td></tr></table></figure>

<p>唯一键效果：再不为空的情况下，不允许重复</p>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">-- 插入多个为空数据</span><br><span class="line">insert into my_unique1 values(null,null);</span><br><span class="line">insert into my_unique1 values(null,null);</span><br><span class="line">insert into my_unique1 values(null,null);</span><br><span class="line">-- 查看数据</span><br><span class="line">+----+----------+</span><br><span class="line">| id | username |</span><br><span class="line">+----+----------+</span><br><span class="line">|  1 | NULL     |</span><br><span class="line">|  2 | NULL     |</span><br><span class="line">|  3 | NULL     |</span><br><span class="line">+----+----------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br><span class="line">-- 发现 null 能重复</span><br><span class="line">-- 插入多个非空相同的数据</span><br><span class="line">insert into my_unique1 values(null,&#39;anmi&#39;);</span><br><span class="line">insert into my_unique1 values(null,&#39;anmi&#39;);</span><br><span class="line">-- 插入第二个时出现错误</span><br><span class="line">ERROR 1062 (23000): Duplicate entry &#39;anmi&#39; for key &#39;my_unique1.username&#39;</span><br></pre></td></tr></table></figure>

<h2 id="删除唯一键"><a href="#删除唯一键" class="headerlink" title="删除唯一键"></a>删除唯一键</h2><p>基本语法：<strong>alter table 表名 drop index 唯一键名字;                        // 唯一键名字默认与字段名相同</strong></p>
<h2 id="复合唯一键"><a href="#复合唯一键" class="headerlink" title="复合唯一键"></a>复合唯一键</h2><p>唯一键与主键一样可以使用多个字段共同保证唯一性</p>
<p><strong>注意：一般主键都是单一字段（逻辑主键），而其他需要唯一性的内容都是由唯一键来处理</strong></p>
<h1 id="表关系"><a href="#表关系" class="headerlink" title="表关系"></a>表关系</h1><h2 id="一对一"><a href="#一对一" class="headerlink" title="一对一"></a>一对一</h2><p>一对一：一张表中的一条记录与另一张表中最多有一条明确的关系</p>
<p>通常，此设计方案保障两张表中使用相同的主键即可</p>
<h2 id="一对多"><a href="#一对多" class="headerlink" title="一对多"></a>一对多</h2><p>一对多，通常也叫作多对一的关系，</p>
<p>通常一对多的关系设计方案，再多关系的表中去维护一个字段</p>
<h2 id="多对多"><a href="#多对多" class="headerlink" title="多对多"></a>多对多</h2><p>多对多：一张表中的一条记录在另外一张表中可以匹配到多条记录，反之也可以</p>
<p>多对多的关系如果按照多对一的关系维护：就会出现一个字段中有多个其他表的主键，在访问的时候就会带来不便</p>
<p>如 师生关系</p>
<ol>
<li>一个老师教过多个班级的学生</li>
<li>一个学生听过多个老师讲的课</li>
</ol>
<p>关系如下图所示：</p>
<p><img src="https://s3.ax1x.com/2021/02/05/y8lzTA.png" alt="师生关系"></p>
<p><strong>多对多的解决方案：增加一个中间表，让中间表与对应的其他表形成两个多对一多关系：多对一的决绝方案是在 ”多“ 表中增加 “一” 表对应的字段</strong></p>
<h1 id="高级数据操作"><a href="#高级数据操作" class="headerlink" title="高级数据操作"></a>高级数据操作</h1><h2 id="新增数据"><a href="#新增数据" class="headerlink" title="新增数据"></a>新增数据</h2><h3 id="多数据插入"><a href="#多数据插入" class="headerlink" title="多数据插入"></a>多数据插入</h3><p>只要写一次 insert 指令，但是可以直接插入多条记录</p>
<p>基本语法：insert into 表名 [(字段列表)] values(值列表),(值列表)…;</p>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">-- 创建表</span><br><span class="line">create table test(</span><br><span class="line">name varchar(10)</span><br><span class="line">);</span><br><span class="line">-- 插入数据</span><br><span class="line">insert into test values(&#39;Tom&#39;),(&#39;Anmi&#39;),(&#39;Peter&#39;);</span><br><span class="line">-- 查看数据</span><br><span class="line">+-------+</span><br><span class="line">| name  |</span><br><span class="line">+-------+</span><br><span class="line">| Tom   |</span><br><span class="line">| Anmi  |</span><br><span class="line">| Peter |</span><br><span class="line">+-------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h3 id="主键冲突"><a href="#主键冲突" class="headerlink" title="主键冲突"></a>主键冲突</h3><p>主键冲突：再有的表中，使用的是业务主键（字段有业务含义），但是往往在进行数据插入的时候，有不确定数据表中是否已经存在对应的主键</p>
<p>解决方案：</p>
<ol>
<li><p>主键冲突更新</p>
<p>类似插入数据语法，如果插入的过程中主键冲突，那么采用此更新方法</p>
<p>insert into 表名 [(字段列表)] values(值列表) on duplocate key update 字段 = 新值</p>
</li>
</ol>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">-- 创建表</span><br><span class="line">create table my_student(</span><br><span class="line">std_id varchar(10) primary key comment &#39;主键，学生ID&#39;,</span><br><span class="line">std_name varchar(10) not null comment &#39;学生姓名&#39;</span><br><span class="line">);</span><br><span class="line">-- 插入数据</span><br><span class="line">insert into my_student values</span><br><span class="line">(&#39;std00001&#39;,&#39;张三&#39;),</span><br><span class="line">(&#39;std00002&#39;,&#39;张四&#39;),</span><br><span class="line">(&#39;std00003&#39;,&#39;张五&#39;),</span><br><span class="line">(&#39;std00004&#39;,&#39;张六&#39;),</span><br><span class="line">(&#39;std00005&#39;,&#39;张七&#39;);</span><br><span class="line">-- 冲突更新</span><br><span class="line">insert into my_student values(&#39;std00004&#39;,&#39;小明&#39;) on duplicate key update std_name &#x3D; &#39;小明&#39;; </span><br><span class="line">-- 结果</span><br><span class="line">+----------+----------+</span><br><span class="line">| std_id   | std_name |</span><br><span class="line">+----------+----------+</span><br><span class="line">| std00001 | 张三     |</span><br><span class="line">| std00002 | 张四     |</span><br><span class="line">| std00003 | 张五     |</span><br><span class="line">| std00004 | 小明     |</span><br><span class="line">| std00005 | 张七     |</span><br><span class="line">+----------+----------+</span><br><span class="line">5 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><p>主键冲突替换</p>
<p>当主键冲突之后，干掉原来的数据，重新插入禁区</p>
<p>replace into [(字段列表)] values(值列表);</p>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">replace into my_student values(&#39;std00001&#39;,&#39;李华&#39;);</span><br><span class="line">-- 结果</span><br><span class="line">+----------+----------+</span><br><span class="line">| std_id   | std_name |</span><br><span class="line">+----------+----------+</span><br><span class="line">| std00001 | 李华     |</span><br><span class="line">| std00002 | 张四     |</span><br><span class="line">| std00003 | 张五     |</span><br><span class="line">| std00004 | 小明     |</span><br><span class="line">| std00005 | 张七     |</span><br><span class="line">+----------+----------+</span><br><span class="line">5 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h2 id="蠕虫复制"><a href="#蠕虫复制" class="headerlink" title="蠕虫复制"></a>蠕虫复制</h2><p>蠕虫复制：一分为二，成倍的增加。从已有的数据中获取数据，并且将后取得数据插入到下数据表中</p>
<p>基本语法：insert into [(字段列表)] select */字段列表 from 表;</p>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-- 创建表 并插入数据</span><br><span class="line">create table my_simple(</span><br><span class="line">name char(1) not null</span><br><span class="line">);</span><br><span class="line">insert into my_simple values(&#39;a&#39;),(&#39;b&#39;),(&#39;c&#39;),(&#39;d&#39;);</span><br><span class="line">-- 蠕虫复制</span><br><span class="line">insert into my_simple(name) select name from my_simple;</span><br></pre></td></tr></table></figure>

<p>注意：</p>
<ol>
<li>蠕虫复制的确通常是重复数据，没有太大的业务意义，但可以短期内快熟增加表的数据量，从而可以测试表的压力，还可以通过大量的数据来测试表的效率</li>
<li>要注意主键冲突</li>
</ol>
</li>
</ol>
<h1 id="更新数据"><a href="#更新数据" class="headerlink" title="更新数据"></a>更新数据</h1><ol>
<li><p>在更新数据的时候，要特别注意：通常一定是跟随条件更新</p>
<p>update 表名 set 字段名 = 新值 where 判断条件;</p>
</li>
<li><p>如果没有条件，则为全表跟新数据，但是可以使用 limit 来限制更新的数量</p>
<p>spdate 表名 set 字段名 = 新值 [where 判断条件] limit 数量;</p>
</li>
</ol>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 改变 4 个 a 变成 e</span><br><span class="line">update my_simple set name &#x3D; &#39;e&#39; where name &#x3D; &#39;a&#39; limit 4;</span><br></pre></td></tr></table></figure>



<h1 id="删除操作-1"><a href="#删除操作-1" class="headerlink" title="删除操作"></a>删除操作</h1><ol>
<li>删除数据的时候尽量不要全部删除，应该使用 where 进行判定</li>
<li>删除数据的时候可以使用 limit 进行限制</li>
</ol>
<h1 id="查询数据"><a href="#查询数据" class="headerlink" title="查询数据"></a>查询数据</h1><p>完整的查询指令</p>
<p>select select 选项 字段列表 from 数据源 where 条件 where 条件 group by 分组 having 条件 order by 排序 limit 限制;</p>
<p><strong>select 选项：系统该如何对待查询得到结果</strong></p>
<ol>
<li>all：默认的，表示保存所有的记录</li>
</ol>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- select 选项</span><br><span class="line">select all * from my_simple;		-- 默认是all &#x3D;&#x3D; select *</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>distinct：去重，去掉重复的记录，只留一条（所有的字段都相同）</li>
</ol>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">select distinct * from my_simple;</span><br><span class="line">-- 结果</span><br><span class="line">+------+</span><br><span class="line">| name |</span><br><span class="line">+------+</span><br><span class="line">| e    |</span><br><span class="line">| b    |</span><br><span class="line">| c    |</span><br><span class="line">| d    |</span><br><span class="line">| a    |</span><br><span class="line">+------+</span><br><span class="line">5 rows in set (0.02 sec)</span><br></pre></td></tr></table></figure>

<p><strong>字段列表：有的时候需要从多张表获取数据，再获取数据的时候，可能存在不同表中有同名的字段，需要将同名的字段命名成不同命的：别名 alias</strong></p>
<p>基本语法：字段名 [as] 别名</p>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">-- 字段别名</span><br><span class="line">select distinct name as name1,name name2 from my_simple;</span><br><span class="line">-- 结果</span><br><span class="line">+-------+-------+</span><br><span class="line">| name1 | name2 |</span><br><span class="line">+-------+-------+</span><br><span class="line">| e     | e     |</span><br><span class="line">| b     | b     |</span><br><span class="line">| c     | c     |</span><br><span class="line">| d     | d     |</span><br><span class="line">| a     | a     |</span><br><span class="line">+-------+-------+</span><br><span class="line">5 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h2 id="from-数据源"><a href="#from-数据源" class="headerlink" title="from 数据源"></a>from 数据源</h2><p>from 是为前面的查询提供数据：数据源只要是一个符合二维表结构的数据即可</p>
<h3 id="单表数据"><a href="#单表数据" class="headerlink" title="单表数据"></a>单表数据</h3><p> from 表名;</p>
<h3 id="多表数据"><a href="#多表数据" class="headerlink" title="多表数据"></a>多表数据</h3><p>从多张表中获取数据，基本语法：<strong>from 表 1,表 2…;</strong></p>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select* from my_auto,test;</span><br></pre></td></tr></table></figure>

<p>结果：两张表的记录数相乘，字段数拼接</p>
<p>本质：从第一张表去除第一条记录，去拼凑第二张表的所有记录，保留所有结果</p>
<h3 id="动态数据"><a href="#动态数据" class="headerlink" title="动态数据"></a>动态数据</h3><p>from 后面跟的不是一个实体表，而是一个从表中查询出来得到的二位结果表（子查询）</p>
<p>基本语法：from (select 字段列表 from 表) as 别名;</p>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">select * from (select int_1,int_4 from my_int) as int_my;		-- 一定要有别名 如： int_my</span><br><span class="line">-- 结果</span><br><span class="line">+-------+--------+</span><br><span class="line">| int_1 | int_4  |</span><br><span class="line">+-------+--------+</span><br><span class="line">|    10 | 100000 |</span><br><span class="line">|   127 | 100000 |</span><br><span class="line">+-------+--------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h2 id="where子句"><a href="#where子句" class="headerlink" title="where子句"></a>where子句</h2><p>where 子句：用来从数据表获取数据的时候，然后进行条件筛选</p>
<p>数据获取原理：针对表去对应的磁盘处获取所有的记录（一条条），where 的作用就是在拿到一条结果的开始进行判断，判断是否符合条件：如果过负荷就保存下来，如果不符合直接舍弃（不放到内存中）</p>
<p>where 是通过运算符进行结果比较来判断数据</p>
<h2 id="group-by-子句"><a href="#group-by-子句" class="headerlink" title="group by 子句"></a>group by 子句</h2><h3 id="分组统计"><a href="#分组统计" class="headerlink" title="分组统计"></a>分组统计</h3><p>基本语法：group by 字段名</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-- 在my_student中最后加上class_id</span><br><span class="line">alter table my_student add class_id int;</span><br><span class="line">-- 更新数据</span><br><span class="line">update my_student set class_id &#x3D; 1 where std_id in(&#39;std00001&#39;,&#39;std00002&#39;);</span><br><span class="line">update my_student set class_id &#x3D; 2 where std_id in(&#39;std00003&#39;,&#39;std00004&#39;,&#39;std00005&#39;);</span><br><span class="line"></span><br><span class="line">-- 分组</span><br><span class="line">select * from my_student group by class_id;</span><br></pre></td></tr></table></figure>



<h1 id="PHP-MySQL-创建数据库"><a href="#PHP-MySQL-创建数据库" class="headerlink" title="PHP MySQL 创建数据库"></a>PHP MySQL 创建数据库</h1><h2 id="创建一个名为“mydatabase”的数据库"><a href="#创建一个名为“mydatabase”的数据库" class="headerlink" title="创建一个名为“mydatabase”的数据库"></a>创建一个名为“mydatabase”的数据库</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$servername</span> = <span class="string">&quot;localhost&quot;</span>;</span><br><span class="line"><span class="variable">$username</span> = <span class="string">&quot;root&quot;</span>;</span><br><span class="line"><span class="variable">$password</span> = <span class="string">&quot;root&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建连接</span></span><br><span class="line"><span class="variable">$conn</span> = mysqli_connect(<span class="variable">$servername</span>, <span class="variable">$username</span>, <span class="variable">$password</span>);</span><br><span class="line"><span class="comment">// 检测连接</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="variable">$conn</span>) &#123;</span><br><span class="line">    <span class="keyword">die</span>(<span class="string">&quot;连接失败: &quot;</span> . mysqli_connect_error());</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 创建数据库</span></span><br><span class="line"><span class="variable">$sql</span> = <span class="string">&quot;CREATE DATABASE mydatabase&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (mysqli_query(<span class="variable">$conn</span>, <span class="variable">$sql</span>)) &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;数据库创建成功&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;Error creating database: &quot;</span> . mysqli_error(<span class="variable">$conn</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="PHP-mysqli-connect-函数"><a href="#PHP-mysqli-connect-函数" class="headerlink" title="PHP mysqli_connect()函数"></a>PHP mysqli_connect()函数</h2><p>语法：mysqli_connect(<em>host,username,password,dbname,port,socket</em>)<em>;</em></p>
<table>
<thead>
<tr>
<th align="center">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><em>host</em></td>
<td align="left">可选。规定主机名或 IP 地址。</td>
</tr>
<tr>
<td align="center"><em>username</em></td>
<td align="left">可选。规定 MySQL 用户名。</td>
</tr>
<tr>
<td align="center"><em>password</em></td>
<td align="left">可选。规定 MySQL 密码。</td>
</tr>
<tr>
<td align="center"><em>dbname</em></td>
<td align="left">可选。规定默认使用的数据库。</td>
</tr>
<tr>
<td align="center"><em>port</em></td>
<td align="left">可选。规定尝试连接到 MySQL 服务器的端口号。//没选就是默认3306端口</td>
</tr>
<tr>
<td align="center"><em>socket</em></td>
<td align="left">可选。规定 socket 或要使用的已命名 pipe。</td>
</tr>
</tbody></table>
<h2 id="PHP-mysqli-query-函数"><a href="#PHP-mysqli-query-函数" class="headerlink" title="PHP mysqli_query()函数"></a>PHP mysqli_query()函数</h2><p>语法：mysqli_query(<em>connection,query,resultmode</em>)<em>;</em></p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><em>connection</em></td>
<td align="left">必需。规定要使用的 MySQL 连接。</td>
</tr>
<tr>
<td align="left"><em>query</em></td>
<td align="left">必需，规定查询字符串。</td>
</tr>
<tr>
<td align="left"><em>resultmode</em></td>
<td align="left">可选。一个常量。可以是下列值中的任意一个：MYSQLI_USE_RESULT（如果需要检索大量数据，请使用这个）MYSQLI_STORE_RESULT（默认）</td>
</tr>
</tbody></table>
<h2 id="数据库连接编码问题"><a href="#数据库连接编码问题" class="headerlink" title="数据库连接编码问题"></a>数据库连接编码问题</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;php7</span><br><span class="line">mysqli_query($conn, &quot;set character set &#39;utf8&#39;&quot;);&#x2F;&#x2F;读库 </span><br><span class="line">mysqli_query($conn,&quot;set names &#39;utf8&#39;&quot;);&#x2F;&#x2F;写库</span><br><span class="line">&#x2F;&#x2F;php5</span><br><span class="line">mysql_query(&quot;set character set &#39;utf8&#39;&quot;);&#x2F;&#x2F;读库 </span><br><span class="line">mysql_query(&quot;set names &#39;utf8&#39;&quot;);&#x2F;&#x2F;写库</span><br></pre></td></tr></table></figure>

<h1 id="PHP-MySQL-创建数据表"><a href="#PHP-MySQL-创建数据表" class="headerlink" title="PHP MySQL 创建数据表"></a>PHP MySQL 创建数据表</h1><h2 id="创建一个名为“myguests”的数据库"><a href="#创建一个名为“myguests”的数据库" class="headerlink" title="创建一个名为“myguests”的数据库"></a>创建一个名为“myguests”的数据库</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$servername</span> = <span class="string">&quot;localhost&quot;</span>;</span><br><span class="line"><span class="variable">$username</span> = <span class="string">&quot;root&quot;</span>;</span><br><span class="line"><span class="variable">$password</span> = <span class="string">&quot;root&quot;</span>;</span><br><span class="line"><span class="variable">$dbname</span> = <span class="string">&quot;mydatabase&quot;</span>;</span><br><span class="line"><span class="comment">// 创建连接</span></span><br><span class="line"><span class="variable">$conn</span> = mysqli_connect(<span class="variable">$servername</span>, <span class="variable">$username</span>, <span class="variable">$password</span>, <span class="variable">$dbname</span>);</span><br><span class="line"><span class="comment">// 检测连接</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="variable">$conn</span>) &#123;</span><br><span class="line">    <span class="keyword">die</span>(<span class="string">&quot;连接失败: &quot;</span> . mysqli_connect_error());</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 创建数据表</span></span><br><span class="line"><span class="variable">$sql</span> = <span class="string">&quot;CREATE TABLE myguests(</span></span><br><span class="line"><span class="string">id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY,</span></span><br><span class="line"><span class="string">fname VARCHAR(30) NOT NULL,</span></span><br><span class="line"><span class="string">lname VARCHAR(30) NOT NULL,</span></span><br><span class="line"><span class="string">email VARCHAR(50),</span></span><br><span class="line"><span class="string">reg_date TIMESTAMP </span></span><br><span class="line"><span class="string">)&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (mysqli_query(<span class="variable">$conn</span>, <span class="variable">$sql</span>)) &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;数据表 MyGuests 创建成功&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;创建数据表错误: &quot;</span> . mysqli_error(<span class="variable">$conn</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="PHP-MySQL-插入新数据"><a href="#PHP-MySQL-插入新数据" class="headerlink" title="PHP MySQL 插入新数据"></a>PHP MySQL 插入新数据</h1><h2 id="插入单条数据到“myguests”中"><a href="#插入单条数据到“myguests”中" class="headerlink" title="插入单条数据到“myguests”中"></a>插入单条数据到“myguests”中</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$servername</span> = <span class="string">&quot;localhost&quot;</span>;</span><br><span class="line"><span class="variable">$username</span> = <span class="string">&quot;root&quot;</span>;</span><br><span class="line"><span class="variable">$password</span> = <span class="string">&quot;root&quot;</span>;</span><br><span class="line"><span class="variable">$dbname</span> = <span class="string">&quot;mydatabase&quot;</span>;</span><br><span class="line"><span class="comment">// 创建连接</span></span><br><span class="line"><span class="variable">$conn</span> = mysqli_connect(<span class="variable">$servername</span>, <span class="variable">$username</span>, <span class="variable">$password</span>, <span class="variable">$dbname</span>);</span><br><span class="line"><span class="comment">// 检测连接</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="variable">$conn</span>) &#123;</span><br><span class="line">    <span class="keyword">die</span>(<span class="string">&quot;连接失败: &quot;</span> . mysqli_connect_error());</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 创建数据表</span></span><br><span class="line"><span class="variable">$sql</span> = <span class="string">&quot;INSERT INTO myguests (fname,lname,email)</span></span><br><span class="line"><span class="string">VALUES (&#x27;Hirasawa&#x27;,&#x27;Yui&#x27;,&#x27;yuiiii123@gmail.com&#x27;)&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (mysqli_query(<span class="variable">$conn</span>, <span class="variable">$sql</span>)) &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;新记录插入成功&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;Error: &quot;</span> . <span class="variable">$sql</span> . <span class="string">&quot;&lt;br&gt;&quot;</span> . mysqli_error(<span class="variable">$conn</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="插入多条数据到“myguests”中"><a href="#插入多条数据到“myguests”中" class="headerlink" title="插入多条数据到“myguests”中"></a>插入多条数据到“myguests”中</h2><h3 id="MySQLi-—-面向对象"><a href="#MySQLi-—-面向对象" class="headerlink" title="MySQLi — 面向对象"></a>MySQLi — 面向对象</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$servername</span> = <span class="string">&quot;localhost&quot;</span>;</span><br><span class="line"><span class="variable">$username</span> = <span class="string">&quot;root&quot;</span>;</span><br><span class="line"><span class="variable">$password</span> = <span class="string">&quot;root&quot;</span>;</span><br><span class="line"><span class="variable">$dbname</span> = <span class="string">&quot;mydatabase&quot;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 创建链接</span></span><br><span class="line"><span class="variable">$conn</span> = <span class="keyword">new</span> mysqli(<span class="variable">$servername</span>, <span class="variable">$username</span>, <span class="variable">$password</span>, <span class="variable">$dbname</span>);</span><br><span class="line"><span class="comment">// 检查链接</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$conn</span>-&gt;connect_error) &#123;</span><br><span class="line">    <span class="keyword">die</span>(<span class="string">&quot;连接失败: &quot;</span> . <span class="variable">$conn</span>-&gt;connect_error);</span><br><span class="line">&#125; </span><br><span class="line"> </span><br><span class="line"><span class="variable">$sql</span> = <span class="string">&quot;INSERT INTO myguests (fname, lname, email)</span></span><br><span class="line"><span class="string">VALUES (&#x27;John&#x27;, &#x27;Doe&#x27;, &#x27;john@example.com&#x27;);&quot;</span>;</span><br><span class="line"><span class="variable">$sql</span> .= <span class="string">&quot;INSERT INTO myguests (fname, lname, email)</span></span><br><span class="line"><span class="string">VALUES (&#x27;Mary&#x27;, &#x27;Moe&#x27;, &#x27;mary@example.com&#x27;);&quot;</span>;</span><br><span class="line"><span class="variable">$sql</span> .= <span class="string">&quot;INSERT INTO myguests (fname, lname, email)</span></span><br><span class="line"><span class="string">VALUES (&#x27;Julie&#x27;, &#x27;Dooley&#x27;, &#x27;julie@example.com&#x27;)&quot;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$conn</span>-&gt;multi_query(<span class="variable">$sql</span>) === <span class="literal">TRUE</span>) &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;新记录插入成功&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;Error: &quot;</span> . <span class="variable">$sql</span> . <span class="string">&quot;&lt;br&gt;&quot;</span> . <span class="variable">$conn</span>-&gt;error;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="variable">$conn</span>-&gt;close();</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="MySQLi-—-面向过程"><a href="#MySQLi-—-面向过程" class="headerlink" title="MySQLi — 面向过程"></a>MySQLi — 面向过程</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$servername</span> = <span class="string">&quot;localhost&quot;</span>;</span><br><span class="line"><span class="variable">$username</span> = <span class="string">&quot;root&quot;</span>;</span><br><span class="line"><span class="variable">$password</span> = <span class="string">&quot;root&quot;</span>;</span><br><span class="line"><span class="variable">$dbname</span> = <span class="string">&quot;mydatabase&quot;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 创建链接</span></span><br><span class="line"><span class="variable">$conn</span> = <span class="keyword">new</span> mysqli(<span class="variable">$servername</span>, <span class="variable">$username</span>, <span class="variable">$password</span>, <span class="variable">$dbname</span>);</span><br><span class="line"><span class="comment">// 检查链接</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$conn</span>-&gt;connect_error) &#123;</span><br><span class="line">    <span class="keyword">die</span>(<span class="string">&quot;连接失败: &quot;</span> . mysqli_connect_error());</span><br><span class="line">&#125; </span><br><span class="line"> </span><br><span class="line"><span class="variable">$sql</span> = <span class="string">&quot;INSERT INTO myguests (fname, lname, email)</span></span><br><span class="line"><span class="string">VALUES (&#x27;John&#x27;, &#x27;Doe&#x27;, &#x27;john@example.com&#x27;);&quot;</span>;</span><br><span class="line"><span class="variable">$sql</span> .= <span class="string">&quot;INSERT INTO myguests (fname, lname, email)</span></span><br><span class="line"><span class="string">VALUES (&#x27;Mary&#x27;, &#x27;Moe&#x27;, &#x27;mary@example.com&#x27;);&quot;</span>;</span><br><span class="line"><span class="variable">$sql</span> .= <span class="string">&quot;INSERT INTO myguests (fname, lname, email)</span></span><br><span class="line"><span class="string">VALUES (&#x27;Julie&#x27;, &#x27;Dooley&#x27;, &#x27;julie@example.com&#x27;)&quot;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> (mysqli_multi_query(<span class="variable">$conn</span>, <span class="variable">$sql</span>)) &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;新记录插入成功&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;Error: &quot;</span> . <span class="variable">$sql</span> . <span class="string">&quot;&lt;br&gt;&quot;</span> . mysqli_error(<span class="variable">$conn</span>);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="variable">$conn</span>-&gt;close();</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="使用预处理语句插入"><a href="#使用预处理语句插入" class="headerlink" title="使用预处理语句插入"></a>使用预处理语句插入</h2><p>详情见  <a target="_blank" rel="noopener" href="https://www.runoob.com/php/php-mysql-insert-multiple.html"><strong>菜鸟教程</strong></a></p>
<h1 id="PHP-MySQL-读取数据"><a href="#PHP-MySQL-读取数据" class="headerlink" title="PHP MySQL 读取数据"></a>PHP MySQL 读取数据</h1><h2 id="从-MySQL-数据库读取数据"><a href="#从-MySQL-数据库读取数据" class="headerlink" title="从 MySQL 数据库读取数据"></a>从 MySQL 数据库读取数据</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$servername</span> = <span class="string">&quot;localhost&quot;</span>;</span><br><span class="line"><span class="variable">$username</span> = <span class="string">&quot;root&quot;</span>;</span><br><span class="line"><span class="variable">$password</span> = <span class="string">&quot;root&quot;</span>;</span><br><span class="line"><span class="variable">$dbname</span> = <span class="string">&quot;mydatabase&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建链接</span></span><br><span class="line"><span class="variable">$conn</span> = <span class="keyword">new</span> mysqli(<span class="variable">$servername</span>, <span class="variable">$username</span>, <span class="variable">$password</span>, <span class="variable">$dbname</span>);</span><br><span class="line"><span class="comment">// 检查链接</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$conn</span>-&gt;connect_error) &#123;</span><br><span class="line">    <span class="keyword">die</span>(<span class="string">&quot;连接失败: &quot;</span> . mysqli_connect_error());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$sql</span> = <span class="string">&quot;SELECT id,fname,lname,email FROM myguests&quot;</span>;</span><br><span class="line"><span class="variable">$result</span> = mysqli_query(<span class="variable">$conn</span>, <span class="variable">$sql</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(mysqli_num_rows(<span class="variable">$result</span>)&gt;<span class="number">0</span>)&#123;</span><br><span class="line">    <span class="comment">//输出数据</span></span><br><span class="line">    <span class="keyword">while</span>(<span class="variable">$row</span> = mysqli_fetch_assoc(<span class="variable">$result</span>))&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;id: &quot;</span>. <span class="variable">$row</span>[<span class="string">&quot;id&quot;</span>]. <span class="string">&quot; - Name: &quot;</span>. <span class="variable">$row</span>[<span class="string">&quot;fname&quot;</span>]. <span class="string">&quot; &quot;</span>. <span class="variable">$row</span>[<span class="string">&quot;lname&quot;</span>]. <span class="string">&quot; &quot;</span>. <span class="string">&quot;Email: &quot;</span>. <span class="variable">$row</span>[<span class="string">&quot;email&quot;</span>]. <span class="string">&quot;&lt;br&gt;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;0 结果&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$conn</span>-&gt;close();</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>



<h1 id="PHP-MySQL-预处理语句"><a href="#PHP-MySQL-预处理语句" class="headerlink" title="PHP MySQL 预处理语句"></a>PHP MySQL 预处理语句</h1><h2 id="预处理语句及绑定参数"><a href="#预处理语句及绑定参数" class="headerlink" title="预处理语句及绑定参数"></a>预处理语句及绑定参数</h2><p>预处理语句用于执行多个相同的 SQL 语句，并且执行<strong>效率更高</strong></p>
<p>预处理语句的工作原理如下：</p>
<ol>
<li><p>预处理：创建 SQL 语句模板并发送到数据库。预留的值使用参数 “?” 标记 。例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO MyGuests (firstname, lastname, email) VALUES(?, ?, ?)</span><br></pre></td></tr></table></figure></li>
<li><p>数据库解析，编译，对SQL语句模板执行查询优化，并存储结果不输出。</p>
</li>
<li><p>执行：最后，将应用绑定的值传递给参数（”?” 标记），数据库执行语句。应用可以多次执行语句，如果参数的值不一样。</p>
</li>
</ol>
<p>相比于直接执行SQL语句，预处理语句有两个主要优点：</p>
<ul>
<li>预处理语句大大减少了分析时间，只做了一次查询（虽然语句多次执行）。</li>
<li>绑定参数减少了服务器带宽，你只需要发送查询的参数，而不是整个语句。</li>
<li>预处理语句针对SQL注入是非常有用的，因为参数值发送后使用不同的协议，保证了数据的合法性。</li>
</ul>
<h2 id="MySQLi-预处理语句"><a href="#MySQLi-预处理语句" class="headerlink" title="MySQLi 预处理语句"></a>MySQLi 预处理语句</h2><p>见 <strong><a target="_blank" rel="noopener" href="https://www.runoob.com/php/php-mysql-prepared-statements.html">菜鸟教程</a></strong></p>
<h1 id="PHP-MySQL-Order-By"><a href="#PHP-MySQL-Order-By" class="headerlink" title="PHP MySQL Order By"></a>PHP MySQL Order By</h1><p>语法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name(s)						&#x2F;&#x2F;column_name(s) 表示表中的名字</span><br><span class="line">FROM table_name</span><br><span class="line">ORDER BY column_name(s) ASC|DESC				&#x2F;&#x2F;ASC 表示升序，DESC 表示降序</span><br></pre></td></tr></table></figure>

<p>实例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$servername &#x3D; &quot;localhost&quot;;</span><br><span class="line">$username &#x3D; &quot;root&quot;;</span><br><span class="line">$password &#x3D; &quot;root&quot;;</span><br><span class="line">$dbname &#x3D; &quot;mydatabase&quot;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 创建链接</span><br><span class="line">$conn &#x3D; new mysqli($servername, $username, $password, $dbname);</span><br><span class="line">&#x2F;&#x2F; 检查链接</span><br><span class="line">if ($conn-&gt;connect_error) &#123;</span><br><span class="line">    die(&quot;连接失败: &quot; . mysqli_connect_error());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$result &#x3D; mysqli_query($conn,&quot;SELECT * FROM myguests ORDER BY fname&quot;);</span><br><span class="line"></span><br><span class="line">while($row &#x3D; mysqli_fetch_array($result))&#123;</span><br><span class="line">    echo $row[&quot;fname&quot;] . &quot; &quot; . $row[&quot;lname&quot;] . &quot; &quot; . $row[&quot;email&quot;] . &quot;&lt;br&gt;&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$conn-&gt;close();</span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line">-----------------------------------------------------------------------------------------</span><br><span class="line">&#x2F;&#x2F;网页显示</span><br><span class="line">Hirasawa Yui yuiiii123@gmail.com</span><br><span class="line">John Doe john@example.com</span><br><span class="line">Julie Dooley julie@example.com</span><br><span class="line">Mary Moe mary@example.com</span><br></pre></td></tr></table></figure>

<h2 id="根据两列进行排序"><a href="#根据两列进行排序" class="headerlink" title="根据两列进行排序"></a>根据两列进行排序</h2><p>可以根据多个列进行排序。当按照多个列进行排序时，只有第一列的值相同时才使用第二列：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name(s)</span><br><span class="line">FROM table_name</span><br><span class="line">ORDER BY column1, column2</span><br></pre></td></tr></table></figure>

<h1 id="PHP-MySQL-update"><a href="#PHP-MySQL-update" class="headerlink" title="PHP MySQL update"></a>PHP MySQL update</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$con&#x3D;mysqli_connect(&quot;localhost&quot;,&quot;root&quot;,&quot;root&quot;,&quot;mydatabase&quot;);</span><br><span class="line">&#x2F;&#x2F; 检测连接</span><br><span class="line">if (mysqli_connect_errno())</span><br><span class="line">&#123;</span><br><span class="line">    echo &quot;连接失败: &quot; . mysqli_connect_error();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">mysqli_query($con,&quot;UPDATE person SET age&#x3D;16</span><br><span class="line">WHERE lname&#x3D;&#39;yuki&#39;&quot;);</span><br><span class="line"></span><br><span class="line">mysqli_close($con);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h1 id="PHP-MySQL-delete"><a href="#PHP-MySQL-delete" class="headerlink" title="PHP MySQL delete"></a>PHP MySQL delete</h1><p>语法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DELETE FROM table_name</span><br><span class="line">WHERE some_column &#x3D; some_value</span><br></pre></td></tr></table></figure>

<p>实例见 <strong><a target="_blank" rel="noopener" href="https://www.runoob.com/php/php-mysql-delete.html">菜鸟教程</a></strong></p>
<h1 id="判断是否存在注入点——SQL注入"><a href="#判断是否存在注入点——SQL注入" class="headerlink" title="判断是否存在注入点——SQL注入"></a>判断是否存在注入点——SQL注入</h1><ol>
<li><p>加入单引号 ‘ 提交</p>
<p>如果出现错误提示，则该网站可能存在注入漏洞</p>
</li>
<li><p>数字型判断是否有注入</p>
<p>语句：and 1=1 ; and 1=2 （经典）、’ and ‘1’ = 1 (字符型)</p>
<p>分别返回不同页面，说明存在注入漏洞</p>
</li>
<li><p>字符型判断是否有注入</p>
<p>语句：’ and ‘1’ = 1; ‘ and ‘1 = 2; （经典）</p>
<p>分别返回不同页面，说明存在注入漏洞</p>
<p>分析：加入 ‘ and ‘1’=1 返回正确页面，加入 ‘ and ‘1=2 返回错误页面说明也有注入漏洞</p>
</li>
</ol>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">yui1111</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://yui1111.github.io/2021/01/25/PHP1/">https://yui1111.github.io/2021/01/25/PHP1/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://yui1111.github.io" target="_blank">yui1111's blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E8%AE%B0%E5%BD%95/">记录</a></div><div class="post_share"><div class="social-share" data-image="/img/34.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/03/12/hello-world/"><img class="prev-cover" src="/img/34.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Hello World</div></div></a></div><div class="next-post pull-right"><a href="/2021/01/25/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"><img class="next-cover" src="/img/34.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">hexo + github 个人博客搭建</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="/img/11.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">yui1111</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">6</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">1</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/yui1111"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/yui1111" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://space.bilibili.com/88488687" target="_blank" title="Bilibili"><i class="fas fa-link"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E5%91%BD%E5%90%8D%E8%A7%84%E5%88%99"><span class="toc-number">1.</span> <span class="toc-text">变量命名规则</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%A2%84%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="toc-number">2.</span> <span class="toc-text">预定义变量</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%AF%E5%8F%98%E5%8F%98%E9%87%8F"><span class="toc-number">3.</span> <span class="toc-text">可变变量</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#echo"><span class="toc-number">4.</span> <span class="toc-text">echo</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%8D%A2%E8%A1%8C"><span class="toc-number">5.</span> <span class="toc-text">换行</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#PHP%E9%AD%94%E6%9C%AF%E5%8F%98%E9%87%8F"><span class="toc-number">6.</span> <span class="toc-text">PHP魔术变量</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#PHP%E8%B6%85%E7%BA%A7%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F"><span class="toc-number">7.</span> <span class="toc-text">PHP超级全局变量</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#PHP-GLOBALS"><span class="toc-number">7.1.</span> <span class="toc-text">PHP $GLOBALS</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#PHP%E5%B8%B8%E7%94%A8%E7%B3%BB%E7%BB%9F%E5%87%BD%E6%95%B0"><span class="toc-number">8.</span> <span class="toc-text">PHP常用系统函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%89%E5%85%B3%E8%BE%93%E5%87%BA%E7%9A%84%E5%87%BD%E6%95%B0"><span class="toc-number">8.0.1.</span> <span class="toc-text">有关输出的函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%89%E5%85%B3%E6%97%B6%E9%97%B4%E7%9A%84%E5%87%BD%E6%95%B0"><span class="toc-number">8.1.</span> <span class="toc-text">有关时间的函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%89%E5%85%B3%E6%95%B0%E5%AD%A6%E7%9A%84%E5%87%BD%E6%95%B0"><span class="toc-number">8.2.</span> <span class="toc-text">有关数学的函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%89%E5%85%B3%E5%87%BD%E6%95%B0%E7%9A%84%E5%87%BD%E6%95%B0"><span class="toc-number">8.3.</span> <span class="toc-text">有关函数的函数</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%8A%A0%E8%BD%BD%E8%B7%AF%E5%BE%84"><span class="toc-number">9.</span> <span class="toc-text">文件加载路径</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#global%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">10.</span> <span class="toc-text">global关键字</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E5%8F%98%E9%87%8F"><span class="toc-number">11.</span> <span class="toc-text">静态变量</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%AF%E5%8F%98%E5%87%BD%E6%95%B0"><span class="toc-number">12.</span> <span class="toc-text">可变函数</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0"><span class="toc-number">13.</span> <span class="toc-text">匿名函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">13.0.1.</span> <span class="toc-text">基本概念</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%97%AD%E5%8C%85"><span class="toc-number">13.1.</span> <span class="toc-text">闭包</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%AC%E4%B9%89"><span class="toc-number">14.</span> <span class="toc-text">字符串转义</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%8C%E5%BC%95%E5%8F%B7%E4%B8%AD%E5%8F%98%E9%87%8F%E8%AF%86%E5%88%AB%E7%9A%84%E8%A7%84%E5%88%99"><span class="toc-number">14.1.</span> <span class="toc-text">双引号中变量识别的规则</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E5%AE%9A%E4%B9%89%E8%AF%AD%E6%B3%95"><span class="toc-number">15.</span> <span class="toc-text">数组定义语法</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E5%AE%9A%E4%B9%89%E8%AF%AD%E6%B3%95-1"><span class="toc-number">16.</span> <span class="toc-text">数组定义语法</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#my-ini%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">17.</span> <span class="toc-text">my.ini配置文件</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#PHP%E6%B5%8B%E8%AF%95%E8%BF%9E%E6%8E%A5mysql"><span class="toc-number">18.</span> <span class="toc-text">PHP测试连接mysql</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#MySQL%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%A1%86%E6%9E%B6"><span class="toc-number">19.</span> <span class="toc-text">MySQL服务端框架</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="toc-number">20.</span> <span class="toc-text">数据库基本操作</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">20.1.</span> <span class="toc-text">创建数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">20.2.</span> <span class="toc-text">显示数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E5%85%A8%E9%83%A8"><span class="toc-number">20.2.1.</span> <span class="toc-text">显示全部</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E9%83%A8%E5%88%86"><span class="toc-number">20.2.2.</span> <span class="toc-text">显示部分</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%9B%E5%BB%BA%E8%AF%AD%E5%8F%A5"><span class="toc-number">20.2.3.</span> <span class="toc-text">显示数据库创建语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">20.2.4.</span> <span class="toc-text">选择数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">20.2.5.</span> <span class="toc-text">修改数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">20.2.6.</span> <span class="toc-text">删除数据库</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E8%A1%A8%E6%93%8D%E4%BD%9C"><span class="toc-number">21.</span> <span class="toc-text">数据表操作</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E8%A1%A8"><span class="toc-number">21.1.</span> <span class="toc-text">创建数据表</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%99%AE%E9%80%9A%E5%88%9B%E5%BB%BA%E8%A1%A8"><span class="toc-number">21.1.1.</span> <span class="toc-text">普通创建表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%8D%E5%88%B6%E5%B7%B2%E6%9C%89%E8%A1%A8%E7%BB%93%E6%9E%84"><span class="toc-number">21.1.2.</span> <span class="toc-text">复制已有表结构</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E6%95%B0%E6%8D%AE%E8%A1%A8"><span class="toc-number">21.2.</span> <span class="toc-text">显示数据表</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E6%89%80%E6%9C%89%E8%A1%A8"><span class="toc-number">21.2.1.</span> <span class="toc-text">显示所有表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%B9%E9%85%8D%E6%98%BE%E7%A4%BA%E8%A1%A8"><span class="toc-number">21.2.2.</span> <span class="toc-text">匹配显示表</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E8%A1%A8%E7%BB%93%E6%9E%84"><span class="toc-number">21.3.</span> <span class="toc-text">显示表结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E8%A1%A8%E5%88%9B%E5%BB%BA%E8%AF%AD%E5%8F%A5"><span class="toc-number">21.4.</span> <span class="toc-text">显示表创建语句</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C"><span class="toc-number">22.</span> <span class="toc-text">数据基础操作</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E6%93%8D%E4%BD%9C"><span class="toc-number">22.1.</span> <span class="toc-text">插入操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E6%93%8D%E4%BD%9C"><span class="toc-number">22.2.</span> <span class="toc-text">查询操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%93%8D%E4%BD%9C"><span class="toc-number">22.3.</span> <span class="toc-text">删除操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0%E6%93%8D%E4%BD%9C%EF%BC%88%E6%95%B0%E6%8D%AE%E4%BF%AE%E6%94%B9%EF%BC%89"><span class="toc-number">22.4.</span> <span class="toc-text">更新操作（数据修改）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E9%9B%86"><span class="toc-number">23.</span> <span class="toc-text">字符集</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%89%80%E6%9C%89%E5%AD%97%E7%AC%A6%E9%9B%86"><span class="toc-number">23.1.</span> <span class="toc-text">设置客户端所有字符集</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B7%B1%E5%B1%82%E5%8E%9F%E7%90%86%EF%BC%9A%E5%AE%A2%E6%88%B7%E7%AB%AF%EF%BC%8C%E6%9C%8D%E5%8A%A1%E7%AB%AF%EF%BC%8C%E8%BF%9E%E6%8E%A5%E5%B1%82"><span class="toc-number">23.1.0.0.1.</span> <span class="toc-text">深层原理：客户端，服务端，连接层</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E4%BF%9D%E5%AD%98%E7%9A%84%E4%B8%89%E7%A7%8D%E5%85%B3%E7%B3%BB%E5%A4%84%E7%90%86%E5%AD%97%E7%AC%A6%E9%9B%86"><span class="toc-number">23.1.0.0.2.</span> <span class="toc-text">查看系统保存的三种关系处理字符集</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%97%E7%B1%BB%E5%9E%8B%EF%BC%88%E5%AD%97%E6%AE%B5%E7%B1%BB%E5%9E%8B%EF%BC%89"><span class="toc-number">24.</span> <span class="toc-text">列类型（字段类型）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B4%E6%95%B0%E5%9E%8B%E7%B1%BB%E5%9E%8B"><span class="toc-number">24.1.</span> <span class="toc-text">整数型类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#tinyint"><span class="toc-number">24.1.1.</span> <span class="toc-text">tinyint</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#smallint"><span class="toc-number">24.1.2.</span> <span class="toc-text">smallint</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mediumint"><span class="toc-number">24.1.3.</span> <span class="toc-text">mediumint</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#int"><span class="toc-number">24.1.4.</span> <span class="toc-text">int</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bigint"><span class="toc-number">24.1.5.</span> <span class="toc-text">bigint</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A0%E7%AC%A6%E5%8F%B7%E6%A0%87%E8%AF%86%E8%AE%BE%E5%AE%9A"><span class="toc-number">24.2.</span> <span class="toc-text">无符号标识设定</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B0%8F%E6%95%B0%E7%B1%BB%E5%9E%8B"><span class="toc-number">25.</span> <span class="toc-text">小数类型</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%AE%E7%82%B9%E5%9E%8B"><span class="toc-number">25.1.</span> <span class="toc-text">浮点型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#float"><span class="toc-number">25.1.1.</span> <span class="toc-text">float</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#double"><span class="toc-number">25.1.2.</span> <span class="toc-text">double</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9A%E7%82%B9%E6%95%B0"><span class="toc-number">25.2.</span> <span class="toc-text">定点数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#decimal"><span class="toc-number">25.2.1.</span> <span class="toc-text">decimal</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E6%97%A5%E6%9C%9F%E7%B1%BB%E5%9E%8B"><span class="toc-number">26.</span> <span class="toc-text">时间日期类型</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#date"><span class="toc-number">26.1.</span> <span class="toc-text">date</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#time"><span class="toc-number">26.2.</span> <span class="toc-text">time</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#datatime"><span class="toc-number">26.3.</span> <span class="toc-text">datatime</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#year"><span class="toc-number">26.4.</span> <span class="toc-text">year</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%9E%8B"><span class="toc-number">27.</span> <span class="toc-text">字符串型</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#char"><span class="toc-number">27.1.</span> <span class="toc-text">char</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#varchar"><span class="toc-number">27.2.</span> <span class="toc-text">varchar</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#text"><span class="toc-number">27.3.</span> <span class="toc-text">text</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#enum"><span class="toc-number">27.4.</span> <span class="toc-text">enum</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#set"><span class="toc-number">27.5.</span> <span class="toc-text">set</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%97%E6%8F%8F%E8%BF%B0"><span class="toc-number">28.</span> <span class="toc-text">列描述</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%BB%E9%94%AE"><span class="toc-number">29.</span> <span class="toc-text">主键</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%BB%E9%94%AE"><span class="toc-number">29.1.</span> <span class="toc-text">创建主键</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9A%8F%E8%A1%A8%E5%88%9B%E5%BB%BA"><span class="toc-number">29.1.1.</span> <span class="toc-text">随表创建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A8%E5%90%8E%E5%A2%9E%E5%8A%A0"><span class="toc-number">29.1.2.</span> <span class="toc-text">表后增加</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E4%B8%BB%E9%94%AE"><span class="toc-number">29.2.</span> <span class="toc-text">删除主键</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E5%A2%9E%E9%95%BF"><span class="toc-number">30.</span> <span class="toc-text">自动增长</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%9F%E7%90%86"><span class="toc-number">30.1.</span> <span class="toc-text">原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E8%87%AA%E5%8A%A8%E5%A2%9E%E9%95%BF"><span class="toc-number">30.2.</span> <span class="toc-text">使用自动增长</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E8%87%AA%E5%8A%A8%E5%A2%9E%E9%95%BF"><span class="toc-number">30.3.</span> <span class="toc-text">修改自动增长</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E8%87%AA%E5%8A%A8%E5%A2%9E%E9%95%BF"><span class="toc-number">30.4.</span> <span class="toc-text">删除自动增长</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E8%AE%BE%E7%BD%AE"><span class="toc-number">30.5.</span> <span class="toc-text">初始设置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%86%E8%8A%82%E9%97%AE%E9%A2%98"><span class="toc-number">30.6.</span> <span class="toc-text">细节问题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%94%AF%E4%B8%80%E9%94%AE"><span class="toc-number">31.</span> <span class="toc-text">唯一键</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%94%AF%E4%B8%80%E9%94%AE"><span class="toc-number">31.1.</span> <span class="toc-text">创建唯一键</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%94%AF%E4%B8%80%E9%94%AE"><span class="toc-number">31.2.</span> <span class="toc-text">查看唯一键</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E5%94%AF%E4%B8%80%E9%94%AE"><span class="toc-number">31.3.</span> <span class="toc-text">删除唯一键</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%8D%E5%90%88%E5%94%AF%E4%B8%80%E9%94%AE"><span class="toc-number">31.4.</span> <span class="toc-text">复合唯一键</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%A1%A8%E5%85%B3%E7%B3%BB"><span class="toc-number">32.</span> <span class="toc-text">表关系</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E5%AF%B9%E4%B8%80"><span class="toc-number">32.1.</span> <span class="toc-text">一对一</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E5%AF%B9%E5%A4%9A"><span class="toc-number">32.2.</span> <span class="toc-text">一对多</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E5%AF%B9%E5%A4%9A"><span class="toc-number">32.3.</span> <span class="toc-text">多对多</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C"><span class="toc-number">33.</span> <span class="toc-text">高级数据操作</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B0%E5%A2%9E%E6%95%B0%E6%8D%AE"><span class="toc-number">33.1.</span> <span class="toc-text">新增数据</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E6%95%B0%E6%8D%AE%E6%8F%92%E5%85%A5"><span class="toc-number">33.1.1.</span> <span class="toc-text">多数据插入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E9%94%AE%E5%86%B2%E7%AA%81"><span class="toc-number">33.1.2.</span> <span class="toc-text">主键冲突</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A0%95%E8%99%AB%E5%A4%8D%E5%88%B6"><span class="toc-number">33.2.</span> <span class="toc-text">蠕虫复制</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0%E6%95%B0%E6%8D%AE"><span class="toc-number">34.</span> <span class="toc-text">更新数据</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%93%8D%E4%BD%9C-1"><span class="toc-number">35.</span> <span class="toc-text">删除操作</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE"><span class="toc-number">36.</span> <span class="toc-text">查询数据</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#from-%E6%95%B0%E6%8D%AE%E6%BA%90"><span class="toc-number">36.1.</span> <span class="toc-text">from 数据源</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E8%A1%A8%E6%95%B0%E6%8D%AE"><span class="toc-number">36.1.1.</span> <span class="toc-text">单表数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E8%A1%A8%E6%95%B0%E6%8D%AE"><span class="toc-number">36.1.2.</span> <span class="toc-text">多表数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E6%95%B0%E6%8D%AE"><span class="toc-number">36.1.3.</span> <span class="toc-text">动态数据</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#where%E5%AD%90%E5%8F%A5"><span class="toc-number">36.2.</span> <span class="toc-text">where子句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#group-by-%E5%AD%90%E5%8F%A5"><span class="toc-number">36.3.</span> <span class="toc-text">group by 子句</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E7%BB%9F%E8%AE%A1"><span class="toc-number">36.3.1.</span> <span class="toc-text">分组统计</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#PHP-MySQL-%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">37.</span> <span class="toc-text">PHP MySQL 创建数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%90%8D%E4%B8%BA%E2%80%9Cmydatabase%E2%80%9D%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">37.1.</span> <span class="toc-text">创建一个名为“mydatabase”的数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PHP-mysqli-connect-%E5%87%BD%E6%95%B0"><span class="toc-number">37.2.</span> <span class="toc-text">PHP mysqli_connect()函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PHP-mysqli-query-%E5%87%BD%E6%95%B0"><span class="toc-number">37.3.</span> <span class="toc-text">PHP mysqli_query()函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E7%BC%96%E7%A0%81%E9%97%AE%E9%A2%98"><span class="toc-number">37.4.</span> <span class="toc-text">数据库连接编码问题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#PHP-MySQL-%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E8%A1%A8"><span class="toc-number">38.</span> <span class="toc-text">PHP MySQL 创建数据表</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%90%8D%E4%B8%BA%E2%80%9Cmyguests%E2%80%9D%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">38.1.</span> <span class="toc-text">创建一个名为“myguests”的数据库</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#PHP-MySQL-%E6%8F%92%E5%85%A5%E6%96%B0%E6%95%B0%E6%8D%AE"><span class="toc-number">39.</span> <span class="toc-text">PHP MySQL 插入新数据</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E5%8D%95%E6%9D%A1%E6%95%B0%E6%8D%AE%E5%88%B0%E2%80%9Cmyguests%E2%80%9D%E4%B8%AD"><span class="toc-number">39.1.</span> <span class="toc-text">插入单条数据到“myguests”中</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E5%A4%9A%E6%9D%A1%E6%95%B0%E6%8D%AE%E5%88%B0%E2%80%9Cmyguests%E2%80%9D%E4%B8%AD"><span class="toc-number">39.2.</span> <span class="toc-text">插入多条数据到“myguests”中</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQLi-%E2%80%94-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1"><span class="toc-number">39.2.1.</span> <span class="toc-text">MySQLi — 面向对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQLi-%E2%80%94-%E9%9D%A2%E5%90%91%E8%BF%87%E7%A8%8B"><span class="toc-number">39.2.2.</span> <span class="toc-text">MySQLi — 面向过程</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E9%A2%84%E5%A4%84%E7%90%86%E8%AF%AD%E5%8F%A5%E6%8F%92%E5%85%A5"><span class="toc-number">39.3.</span> <span class="toc-text">使用预处理语句插入</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#PHP-MySQL-%E8%AF%BB%E5%8F%96%E6%95%B0%E6%8D%AE"><span class="toc-number">40.</span> <span class="toc-text">PHP MySQL 读取数据</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8E-MySQL-%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AF%BB%E5%8F%96%E6%95%B0%E6%8D%AE"><span class="toc-number">40.1.</span> <span class="toc-text">从 MySQL 数据库读取数据</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#PHP-MySQL-%E9%A2%84%E5%A4%84%E7%90%86%E8%AF%AD%E5%8F%A5"><span class="toc-number">41.</span> <span class="toc-text">PHP MySQL 预处理语句</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A2%84%E5%A4%84%E7%90%86%E8%AF%AD%E5%8F%A5%E5%8F%8A%E7%BB%91%E5%AE%9A%E5%8F%82%E6%95%B0"><span class="toc-number">41.1.</span> <span class="toc-text">预处理语句及绑定参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MySQLi-%E9%A2%84%E5%A4%84%E7%90%86%E8%AF%AD%E5%8F%A5"><span class="toc-number">41.2.</span> <span class="toc-text">MySQLi 预处理语句</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#PHP-MySQL-Order-By"><span class="toc-number">42.</span> <span class="toc-text">PHP MySQL Order By</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AE%E4%B8%A4%E5%88%97%E8%BF%9B%E8%A1%8C%E6%8E%92%E5%BA%8F"><span class="toc-number">42.1.</span> <span class="toc-text">根据两列进行排序</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#PHP-MySQL-update"><span class="toc-number">43.</span> <span class="toc-text">PHP MySQL update</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#PHP-MySQL-delete"><span class="toc-number">44.</span> <span class="toc-text">PHP MySQL delete</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8%E6%B3%A8%E5%85%A5%E7%82%B9%E2%80%94%E2%80%94SQL%E6%B3%A8%E5%85%A5"><span class="toc-number">45.</span> <span class="toc-text">判断是否存在注入点——SQL注入</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/03/12/layout/" title="layout"><img src="/img/30.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="layout"/></a><div class="content"><a class="title" href="/2021/03/12/layout/" title="layout">layout</a><time datetime="2021-03-12T13:58:22.000Z" title="发表于 2021-03-12 21:58:22">2021-03-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/03/12/Hexo/" title="Hexo"><img src="/img/32.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hexo"/></a><div class="content"><a class="title" href="/2021/03/12/Hexo/" title="Hexo">Hexo</a><time datetime="2021-03-12T13:34:42.000Z" title="发表于 2021-03-12 21:34:42">2021-03-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/03/12/hello-world/" title="Hello World"><img src="/img/34.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hello World"/></a><div class="content"><a class="title" href="/2021/03/12/hello-world/" title="Hello World">Hello World</a><time datetime="2021-03-12T13:33:58.798Z" title="发表于 2021-03-12 21:33:58">2021-03-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/01/25/PHP1/" title="PHP+MySQL+python"><img src="/img/34.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="PHP+MySQL+python"/></a><div class="content"><a class="title" href="/2021/01/25/PHP1/" title="PHP+MySQL+python">PHP+MySQL+python</a><time datetime="2021-01-25T06:14:17.723Z" title="发表于 2021-01-25 14:14:17">2021-01-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/01/25/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/" title="hexo + github 个人博客搭建"><img src="/img/34.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="hexo + github 个人博客搭建"/></a><div class="content"><a class="title" href="/2021/01/25/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/" title="hexo + github 个人博客搭建">hexo + github 个人博客搭建</a><time datetime="2021-01-25T01:12:58.796Z" title="发表于 2021-01-25 09:12:58">2021-01-25</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/img/34.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2021 By yui1111</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">welcome to yui1111's blog</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/fireworks.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>